{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/nitishkumar/Downloads/gltf2code/app/lib/glb-converter.ts"],"sourcesContent":["import * as THREE from 'three';\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\nimport type { MeshData, MaterialData, ProjectStructure, GeometryData } from '@/app/types/glb-convertor';\n\n// Language configuration for code generation\nconst LANGUAGES = {\n  typescript: {\n    extension: 'tsx',\n    geometryExtension: 'ts',\n    comment: '//',\n    string: '\"',\n    function: 'function',\n    class: 'class',\n    import: 'import',\n    export: 'export',\n    typeDeclaration: (name: string) => `type ${name} = {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `${key}: ${value},`,\n    array: (items: string[]) => `[${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  javascript: {\n    extension: 'jsx',\n    geometryExtension: 'js',\n    comment: '//',\n    string: '\"',\n    function: 'function',\n    class: 'class',\n    import: 'import',\n    export: 'export',\n    typeDeclaration: () => '',\n    typeEnd: '',\n    objectProperty: (key: string, value: string) => `${key}: ${value},`,\n    array: (items: string[]) => `[${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  python: {\n    extension: 'py',\n    geometryExtension: 'py',\n    comment: '#',\n    string: \"'\",\n    function: 'def',\n    class: 'class',\n    import: 'import',\n    export: '',\n    typeDeclaration: () => '',\n    typeEnd: '',\n    objectProperty: (key: string, value: string) => `    ${key} = ${value}`,\n    array: (items: string[]) => `[${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  java: {\n    extension: 'java',\n    geometryExtension: 'java',\n    comment: '//',\n    string: '\"',\n    function: '',\n    class: 'class',\n    import: 'import',\n    export: '',\n    typeDeclaration: (name: string) => `public class ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    public ${value} ${key};`,\n    array: (items: string[]) => `new ArrayList<>() {{ ${items.map(item => `add(${item})`).join('; ')}; }}`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  csharp: {\n    extension: 'cs',\n    geometryExtension: 'cs',\n    comment: '//',\n    string: '\"',\n    function: '',\n    class: 'class',\n    import: 'using',\n    export: '',\n    typeDeclaration: (name: string) => `public class ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    public ${value} ${key} { get; set; }`,\n    array: (items: string[]) => `new List<${items[0]?.split(' ')[0] || 'object'}> { ${items.join(', ')} }`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  cpp: {\n    extension: 'cpp',\n    geometryExtension: 'h',\n    comment: '//',\n    string: '\"',\n    function: '',\n    class: 'class',\n    import: '#include',\n    export: '',\n    typeDeclaration: (name: string) => `class ${name} { public:`,\n    typeEnd: '};',\n    objectProperty: (key: string, value: string) => `    ${value} ${key};`,\n    array: (items: string[]) => `{${items.join(', ')}}`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  go: {\n    extension: 'go',\n    geometryExtension: 'go',\n    comment: '//',\n    string: '\"',\n    function: 'func',\n    class: 'type',\n    import: 'import',\n    export: '',\n    typeDeclaration: (name: string) => `type ${name} struct {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    ${key} ${value} \\`json:\"${key.toLowerCase()}\"\\``,\n    array: (items: string[]) => `[]interface{}{${items.join(', ')}}`,\n    stringLiteral: (value: string) => `\"` + value.replace(/\"/g, '\\\\\"') + `\"`\n  },\n  rust: {\n    extension: 'rs',\n    geometryExtension: 'rs',\n    comment: '//',\n    string: '\"',\n    function: 'fn',\n    class: 'struct',\n    import: 'use',\n    export: '',\n    typeDeclaration: (name: string) => `pub struct ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    pub ${key}: ${value},`,\n    array: (items: string[]) => `vec![${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"` + value.replace(/\"/g, '\\\\\"') + `\"`\n  },\n  swift: {\n    extension: 'swift',\n    geometryExtension: 'swift',\n    comment: '//',\n    string: '\"',\n    function: 'func',\n    class: 'class',\n    import: 'import',\n    export: '',\n    typeDeclaration: (name: string) => `class ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    var ${key}: ${value}`,\n    array: (items: string[]) => `[${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  kotlin: {\n    extension: 'kt',\n    geometryExtension: 'kt',\n    comment: '//',\n    string: '\"',\n    function: 'fun',\n    class: 'class',\n    import: 'import',\n    export: '',\n    typeDeclaration: (name: string) => `class ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    var ${key}: ${value}? = null`,\n    array: (items: string[]) => `listOf(${items.join(', ')})`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  ruby: {\n    extension: 'rb',\n    geometryExtension: 'rb',\n    comment: '#',\n    string: '\"',\n    function: 'def',\n    class: 'class',\n    import: 'require',\n    export: '',\n    typeDeclaration: (name: string) => `class ${name}`,\n    typeEnd: 'end',\n    objectProperty: (key: string, value: string) => `  attr_accessor :${key}`,\n    array: (items: string[]) => `[${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  php: {\n    extension: 'php',\n    geometryExtension: 'php',\n    comment: '//',\n    string: '\"',\n    function: 'function',\n    class: 'class',\n    import: 'use',\n    export: '',\n    typeDeclaration: (name: string) => `class ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `    private $${key};`,\n    array: (items: string[]) => `array(${items.join(', ')})`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  scala: {\n    extension: 'scala',\n    geometryExtension: 'scala',\n    comment: '//',\n    string: '\"',\n    function: 'def',\n    class: 'class',\n    import: 'import',\n    export: '',\n    typeDeclaration: (name: string) => `case class ${name} (`,\n    typeEnd: ')',\n    objectProperty: (key: string, value: string) => `${key}: ${value},`,\n    array: (items: string[]) => `Seq(${items.join(', ')})`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  dart: {\n    extension: 'dart',\n    geometryExtension: 'dart',\n    comment: '//',\n    string: '\"',\n    function: 'void',\n    class: 'class',\n    import: 'import',\n    export: '',\n    typeDeclaration: (name: string) => `class ${name} {`,\n    typeEnd: '}',\n    objectProperty: (key: string, value: string) => `  ${value} ${key};`,\n    array: (items: string[]) => `[${items.join(', ')}]`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  },\n  r: {\n    extension: 'R',\n    geometryExtension: 'R',\n    comment: '#',\n    string: '\"',\n    function: 'function',\n    class: 'setClass',\n    import: 'library',\n    export: '',\n    typeDeclaration: (name: string) => `setClass(\"${name}\", slots = list(`,\n    typeEnd: '))',\n    objectProperty: (key: string, value: string) => `\"${key}\" = \"${value}\",`,\n    array: (items: string[]) => `c(${items.join(', ')})`,\n    stringLiteral: (value: string) => `\"${value}\"`\n  }\n} as const;\n\ntype LanguageId = keyof typeof LANGUAGES;\n\n/**\n * Capitalizes the first letter of a string\n * Required for React components which must start with uppercase letters\n */\nfunction capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * Generates a complete project structure from a GLTF model\n * Now with separate geometry files for better component management\n */\nexport function generateProjectStructure(\n  gltf: GLTF, \n  componentName: string,\n  displayMode: string = 'original',\n  languageId: LanguageId = 'typescript'\n): ProjectStructure {\n  const lang = LANGUAGES[languageId];\n  const meshes: MeshData[] = [];\n  const materials: MaterialData[] = [];\n  const geometries: GeometryData[] = []; // New array for geometry files\n  let totalVertices = 0;\n  let totalTriangles = 0;\n  \n  // Process the scene to extract meshes and materials\n  gltf.scene.traverse((object) => {\n    if (object.isMesh) {\n      const mesh = object as THREE.Mesh;\n      const geometry = mesh.geometry;\n      \n      // Count vertices and triangles\n      totalVertices += geometry.attributes.position.count;\n      if (geometry.index) {\n        totalTriangles += geometry.index.count / 3;\n      } else {\n        totalTriangles += geometry.attributes.position.count / 3;\n      }\n      \n      // Generate mesh name\n      const meshName = mesh.name || `Mesh_${meshes.length}`;\n      const safeMeshName = sanitizeName(meshName);\n      const capitalizedMeshName = capitalize(safeMeshName);\n      \n      // Generate geometry file\n      const geometryFile = generateGeometryFile(capitalizedMeshName, geometry, languageId);\n      geometries.push({\n        name: capitalizedMeshName,\n        content: geometryFile,\n        originalName: meshName\n      });\n      \n      // Generate mesh component (now simpler)\n      const meshComponent = generateMeshComponent(capitalizedMeshName, geometry, displayMode, languageId);\n      meshes.push({\n        name: capitalizedMeshName,\n        content: meshComponent,\n        originalName: meshName\n      });\n      \n      // Process materials\n      const material = Array.isArray(mesh.material) ? mesh.material[0] : mesh.material;\n      const materialName = material.name || `Material_${materials.length}`;\n      const safeMaterialName = sanitizeName(materialName);\n      const capitalizedMaterialName = capitalize(safeMaterialName);\n      \n      // Only add unique materials\n      if (!materials.some(m => m.name === capitalizedMaterialName)) {\n        const materialComponent = generateMaterialComponent(capitalizedMaterialName, material, displayMode, languageId);\n        materials.push({\n          name: capitalizedMaterialName,\n          content: materialComponent,\n          originalName: materialName\n        });\n      }\n    }\n  });\n  \n  // Capitalize the component name for the main component\n  const capitalizedComponentName = capitalize(componentName);\n  \n  // Generate the main index component\n  const indexContent = generateIndexComponent(capitalizedComponentName, meshes, materials, displayMode, languageId);\n  \n  // Generate the example page\n  const examplePageContent = generateExamplePage(capitalizedComponentName, languageId);\n  \n  return {\n    componentName: capitalizedComponentName,\n    indexContent,\n    examplePageContent,\n    meshes,\n    geometries, // Include geometries in the structure\n    materials,\n    totalVertices,\n    totalTriangles\n  };\n}\n\n/**\n * Generates a separate geometry file for Three.js\n * Creates a reusable geometry object that can be imported by components\n */\nfunction generateGeometryFile(meshName: string, geometry: THREE.BufferGeometry, languageId: LanguageId): string {\n  const lang = LANGUAGES[languageId];\n  // Extract geometry data\n  const positions = Array.from(geometry.attributes.position.array);\n  const normals = geometry.attributes.normal ? Array.from(geometry.attributes.normal.array) : null;\n  const uvs = geometry.attributes.uv ? Array.from(geometry.attributes.uv.array) : null;\n  const indices = geometry.index ? Array.from(geometry.index.array) : null;\n  \n  // Check if geometry is too large for direct embedding\n  const isLargeGeometry = positions.length > 100000;\n  \n  switch (languageId) {\n    case 'typescript':\n    case 'javascript':\n      return `import * as THREE from 'three';\n// ${meshName} geometry definition\n// This can be easily modified without affecting component code\nexport const ${meshName}Geometry = (() => {\n  const geometry = new THREE.BufferGeometry();\n  ${isLargeGeometry ? \n    `// Large geometry detected - using optimized approach\n    // For extremely large models, consider using binary data files\n    const createGeometryChunk = (data, itemSize) => {\n      const chunkSize = 50000;\n      const chunks = [];\n      for (let i = 0; i < data.length; i += chunkSize) {\n        const chunk = data.slice(i, i + chunkSize);\n        chunks.push(new Float32Array(chunk));\n      }\n      return chunks;\n    };\n    // Position data\n    const positionChunks = createGeometryChunk(${JSON.stringify(positions)}, 3);\n    const positions = new Float32Array(positionChunks.reduce((acc, chunk) => [...acc, ...chunk], []));\n    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    ${normals ? `// Normal data\n    const normalChunks = createGeometryChunk(${JSON.stringify(normals)}, 3);\n    const normals = new Float32Array(normalChunks.reduce((acc, chunk) => [...acc, ...chunk], []));\n    geometry.setAttribute('normal', new THREE.BufferAttribute(normals, 3));` : ''}\n    ${uvs ? `// UV data\n    const uvChunks = createGeometryChunk(${JSON.stringify(uvs)}, 2);\n    const uvs = new Float32Array(uvChunks.reduce((acc, chunk) => [...acc, ...chunk], []));\n    geometry.setAttribute('uv', new THREE.BufferAttribute(uvs, 2));` : ''}\n    ${indices ? `// Index data\n    const indexChunks = createGeometryChunk(${JSON.stringify(indices)}, 1);\n    const indices = new Uint16Array(indexChunks.reduce((acc, chunk) => [...acc, ...chunk], []));\n    geometry.setIndex(new THREE.BufferAttribute(indices, 1));` : ''}` :\n    `// Position data\n    const positions = new Float32Array(${JSON.stringify(positions)});\n    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    ${normals ? `// Normal data\n    const normals = new Float32Array(${JSON.stringify(normals)});\n    geometry.setAttribute('normal', new THREE.BufferAttribute(normals, 3));` : ''}\n    ${uvs ? `// UV data\n    const uvs = new Float32Array(${JSON.stringify(uvs)});\n    geometry.setAttribute('uv', new THREE.BufferAttribute(uvs, 2));` : ''}\n    ${indices ? `// Index data\n    const indices = new Uint16Array(${JSON.stringify(indices)});\n    geometry.setIndex(new THREE.BufferAttribute(indices, 1));` : ''}`\n  }\n  geometry.computeVertexNormals();\n  return geometry;\n})();\n`;\n    case 'python':\n      return `import numpy as np\nfrom three import BufferGeometry, BufferAttribute\n\n# ${meshName} geometry definition\n# This can be easily modified without affecting component code\n${meshName}Geometry = (lambda: \n    ${isLargeGeometry ? \n      `# Large geometry detected - using optimized approach\n      # For extremely large models, consider using binary data files\n      def create_geometry_chunk(data, item_size):\n          chunk_size = 50000\n          chunks = []\n          for i in range(0, len(data), chunk_size):\n              chunk = data[i:i + chunk_size]\n              chunks.append(np.array(chunk, dtype=np.float32))\n          return np.concatenate(chunks)\n      \n      # Position data\n      position_chunks = create_geometry_chunk(${JSON.stringify(positions)}, 3)\n      positions = np.array(position_chunks, dtype=np.float32)\n      geometry = BufferGeometry()\n      geometry.set_attribute('position', BufferAttribute(positions, 3))\n      ${normals ? `# Normal data\n      normal_chunks = create_geometry_chunk(${JSON.stringify(normals)}, 3)\n      normals = np.array(normal_chunks, dtype=np.float32)\n      geometry.set_attribute('normal', BufferAttribute(normals, 3))` : ''}\n      ${uvs ? `# UV data\n      uv_chunks = create_geometry_chunk(${JSON.stringify(uvs)}, 2)\n      uvs = np.array(uv_chunks, dtype=np.float32)\n      geometry.set_attribute('uv', BufferAttribute(uvs, 2))` : ''}\n      ${indices ? `# Index data\n      index_chunks = create_geometry_chunk(${JSON.stringify(indices)}, 1)\n      indices = np.array(index_chunks, dtype=np.uint16)\n      geometry.set_index(BufferAttribute(indices, 1))` : ''}\n      geometry.compute_vertex_normals()\n      return geometry` :\n      `# Position data\n      positions = np.array(${JSON.stringify(positions)}, dtype=np.float32)\n      geometry = BufferGeometry()\n      geometry.set_attribute('position', BufferAttribute(positions, 3))\n      ${normals ? `# Normal data\n      normals = np.array(${JSON.stringify(normals)}, dtype=np.float32)\n      geometry.set_attribute('normal', BufferAttribute(normals, 3))` : ''}\n      ${uvs ? `# UV data\n      uvs = np.array(${JSON.stringify(uvs)}, dtype=np.float32)\n      geometry.set_attribute('uv', BufferAttribute(uvs, 2))` : ''}\n      ${indices ? `# Index data\n      indices = np.array(${JSON.stringify(indices)}, dtype=np.uint16)\n      geometry.set_index(BufferAttribute(indices, 1))` : ''}\n      geometry.compute_vertex_normals()\n      return geometry`}\n)();\n`;\n    case 'java':\n      return `import three.BufferGeometry;\nimport three.BufferAttribute;\n\n/**\n * ${meshName} geometry definition\n * This can be easily modified without affecting component code\n */\npublic class ${meshName}Geometry {\n    public static BufferGeometry create() {\n        BufferGeometry geometry = new BufferGeometry();\n        ${isLargeGeometry ? \n          `// Large geometry detected - using optimized approach\n          // For extremely large models, consider using binary data files\n          float[] positions = createGeometryChunk(${JSON.stringify(positions)}, 3);\n          geometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\n          ${normals ? `float[] normals = createGeometryChunk(${JSON.stringify(normals)}, 3);\n          geometry.setAttribute(\"normal\", new BufferAttribute(normals, 3));` : ''}\n          ${uvs ? `float[] uvs = createGeometryChunk(${JSON.stringify(uvs)}, 2);\n          geometry.setAttribute(\"uv\", new BufferAttribute(uvs, 2));` : ''}\n          ${indices ? `short[] indices = createGeometryChunk(${JSON.stringify(indices)}, 1);\n          geometry.setIndex(new BufferAttribute(indices, 1));` : ''}\n          geometry.computeVertexNormals();\n          return geometry;` :\n          `float[] positions = ${JSON.stringify(positions)};\n          geometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\n          ${normals ? `float[] normals = ${JSON.stringify(normals)};\n          geometry.setAttribute(\"normal\", new BufferAttribute(normals, 3));` : ''}\n          ${uvs ? `float[] uvs = ${JSON.stringify(uvs)};\n          geometry.setAttribute(\"uv\", new BufferAttribute(uvs, 2));` : ''}\n          ${indices ? `short[] indices = ${JSON.stringify(indices)};\n          geometry.setIndex(new BufferAttribute(indices, 1));` : ''}\n          geometry.computeVertexNormals();\n          return geometry;`}\n    }\n    \n    ${isLargeGeometry ? \n      `private static float[] createGeometryChunk(float[] data, int itemSize) {\n        int chunkSize = 50000;\n        List<Float> chunks = new ArrayList<>();\n        for (int i = 0; i < data.length; i += chunkSize) {\n            int end = Math.min(i + chunkSize, data.length);\n            for (int j = i; j < end; j++) {\n                chunks.add(data[j]);\n            }\n        }\n        float[] result = new float[chunks.size()];\n        for (int i = 0; i < chunks.size(); i++) {\n            result[i] = chunks.get(i);\n        }\n        return result;\n    }` : ''}\n}\n`;\n    case 'csharp':\n      return `using ThreeJs;\nusing System.Collections.Generic;\nusing System.Linq;\n\n/**\n * ${meshName} geometry definition\n * This can be easily modified without affecting component code\n */\npublic class ${meshName}Geometry\n{\n    public static BufferGeometry Create()\n    {\n        var geometry = new BufferGeometry();\n        ${isLargeGeometry ? \n          `// Large geometry detected - using optimized approach\n          // For extremely large models, consider using binary data files\n          var positions = CreateGeometryChunk(${JSON.stringify(positions)}, 3);\n          geometry.SetAttribute(\"position\", new BufferAttribute(positions, 3));\n          ${normals ? `var normals = CreateGeometryChunk(${JSON.stringify(normals)}, 3);\n          geometry.SetAttribute(\"normal\", new BufferAttribute(normals, 3));` : ''}\n          ${uvs ? `var uvs = CreateGeometryChunk(${JSON.stringify(uvs)}, 2);\n          geometry.SetAttribute(\"uv\", new BufferAttribute(uvs, 2));` : ''}\n          ${indices ? `var indices = CreateGeometryChunk(${JSON.stringify(indices)}, 1);\n          geometry.SetIndex(new BufferAttribute(indices, 1));` : ''}\n          geometry.ComputeVertexNormals();\n          return geometry;` :\n          `var positions = new float[] { ${JSON.stringify(positions).slice(1, -1)} };\n          geometry.SetAttribute(\"position\", new BufferAttribute(positions, 3));\n          ${normals ? `var normals = new float[] { ${JSON.stringify(normals).slice(1, -1)} };\n          geometry.SetAttribute(\"normal\", new BufferAttribute(normals, 3));` : ''}\n          ${uvs ? `var uvs = new float[] { ${JSON.stringify(uvs).slice(1, -1)} };\n          geometry.SetAttribute(\"uv\", new BufferAttribute(uvs, 2));` : ''}\n          ${indices ? `var indices = new ushort[] { ${JSON.stringify(indices).slice(1, -1)} };\n          geometry.SetIndex(new BufferAttribute(indices, 1));` : ''}\n          geometry.ComputeVertexNormals();\n          return geometry;`}\n    }\n    \n    ${isLargeGeometry ? \n      `private static float[] CreateGeometryChunk(float[] data, int itemSize)\n      {\n          int chunkSize = 50000;\n          var chunks = new List<float>();\n          for (int i = 0; i < data.Length; i += chunkSize)\n          {\n              int end = Math.Min(i + chunkSize, data.Length);\n              chunks.AddRange(data.Skip(i).Take(end - i));\n          }\n          return chunks.ToArray();\n      }` : ''}\n}\n`;\n    default:\n      // Fallback to TypeScript for unsupported languages\n      return `import * as THREE from 'three';\n// ${meshName} geometry definition\n// This can be easily modified without affecting component code\nexport const ${meshName}Geometry = (() => {\n  const geometry = new THREE.BufferGeometry();\n  // Position data\n  const positions = new Float32Array(${JSON.stringify(positions)});\n  geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n  ${normals ? `// Normal data\n  const normals = new Float32Array(${JSON.stringify(normals)});\n  geometry.setAttribute('normal', new THREE.BufferAttribute(normals, 3));` : ''}\n  ${uvs ? `// UV data\n  const uvs = new Float32Array(${JSON.stringify(uvs)});\n  geometry.setAttribute('uv', new THREE.BufferAttribute(uvs, 2));` : ''}\n  ${indices ? `// Index data\n  const indices = new Uint16Array(${JSON.stringify(indices)});\n  geometry.setIndex(new THREE.BufferAttribute(indices, 1));` : ''}\n  geometry.computeVertexNormals();\n  return geometry;\n})();\n`;\n  }\n}\n\n/**\n * Generates a mesh component that imports geometry from a separate file\n * Much simpler than before - just references the geometry\n * Component name starts with capital letter as required by React\n */\nfunction generateMeshComponent(meshName: string, _geometry: THREE.BufferGeometry, displayMode: string, languageId: LanguageId): string {\n  const lang = LANGUAGES[languageId];\n  \n  switch (languageId) {\n    case 'typescript':\n      return `import React from 'react';\nimport { ${meshName}Geometry } from '../geometries/${meshName}Geometry';\n/**\n * ${meshName} component\n * Simple wrapper that uses pre-defined geometry\n * Easy to modify without touching geometry data\n */\nexport default function ${meshName}(props: any) {\n  return <mesh geometry={${meshName}Geometry} {...props} />;\n}`;\n    case 'javascript':\n      return `import React from 'react';\nimport { ${meshName}Geometry } from '../geometries/${meshName}Geometry';\n/**\n * ${meshName} component\n * Simple wrapper that uses pre-defined geometry\n * Easy to modify without touching geometry data\n */\nexport default function ${meshName}(props) {\n  return <mesh geometry={${meshName}Geometry} {...props} />;\n}`;\n    case 'python':\n      return `from react import createElement\nfrom .geometries.${meshName}Geometry import ${meshName}Geometry\n\ndef ${meshName.toLowerCase()}(props):\n    \"\"\"${meshName} component\n    Simple wrapper that uses pre-defined geometry\n    Easy to modify without touching geometry data\n    \"\"\"\n    return createElement('mesh', {**props, 'geometry': ${meshName}Geometry})`;\n    case 'java':\n      return `import react.Component;\nimport three.BufferGeometry;\nimport three.Mesh;\n\n/**\n * ${meshName} component\n * Simple wrapper that uses pre-defined geometry\n * Easy to modify without touching geometry data\n */\npublic class ${meshName} extends Component {\n    private BufferGeometry geometry;\n    \n    public ${meshName}(Object props) {\n        super(props);\n        this.geometry = ${meshName}Geometry.create();\n    }\n    \n    @Override\n    public Object render() {\n        return new Mesh(props, geometry);\n    }\n}`;\n    case 'csharp':\n      return `using React;\nusing ThreeJs;\n\n/**\n * ${meshName} component\n * Simple wrapper that uses pre-defined geometry\n * Easy to modify without touching geometry data\n */\npublic class ${meshName}\n{\n    private BufferGeometry Geometry { get; }\n    \n    public ${meshName}(object props)\n    {\n        Geometry = ${meshName}Geometry.Create();\n    }\n    \n    public object Render(object props)\n    {\n        return new Mesh(props, Geometry);\n    }\n}`;\n    default:\n      // Fallback to TypeScript for unsupported languages\n      return `import React from 'react';\nimport { ${meshName}Geometry } from '../geometries/${meshName}Geometry';\n/**\n * ${meshName} component\n * Simple wrapper that uses pre-defined geometry\n * Easy to modify without touching geometry data\n */\nexport default function ${meshName}(props) {\n  return <mesh geometry={${meshName}Geometry} {...props} />;\n}`;\n  }\n}\n\n/**\n * Generates a material component based on display mode\n * Component name starts with capital letter as required by React\n */\nfunction generateMaterialComponent(materialName: string, material: THREE.Material, displayMode: string, languageId: LanguageId): string {\n  const lang = LANGUAGES[languageId];\n  \n  // Base material properties\n  let materialType = 'MeshStandardMaterial';\n  let properties: string[] = [];\n  \n  // Determine material type\n  if (material instanceof THREE.MeshBasicMaterial) materialType = 'MeshBasicMaterial';\n  else if (material instanceof THREE.MeshPhongMaterial) materialType = 'MeshPhongMaterial';\n  else if (material instanceof THREE.MeshLambertMaterial) materialType = 'MeshLambertMaterial';\n  else if (material instanceof THREE.MeshNormalMaterial) materialType = 'MeshNormalMaterial';\n  else if (material instanceof THREE.MeshDepthMaterial) materialType = 'MeshDepthMaterial';\n  else if (material instanceof THREE.MeshMatcapMaterial) materialType = 'MeshMatcapMaterial';\n  else if (material instanceof THREE.MeshToonMaterial) materialType = 'MeshToonMaterial';\n  else if (material instanceof THREE.MeshPhysicalMaterial) materialType = 'MeshPhysicalMaterial';\n  else if (material instanceof THREE.MeshStandardMaterial) materialType = 'MeshStandardMaterial';\n  else if (material instanceof THREE.ShaderMaterial) materialType = 'ShaderMaterial';\n  \n  // Extract properties based on display mode\n  switch (displayMode) {\n    case 'wireframe':\n      properties.push('wireframe: true');\n      properties.push('transparent: true');\n      properties.push('opacity: 0.8');\n      break;\n    case 'solid':\n      properties.push('color: 0x888888');\n      properties.push('metalness: 0.1');\n      properties.push('roughness: 0.8');\n      break;\n    case 'normals':\n      materialType = 'MeshNormalMaterial';\n      break;\n    case 'depth':\n      materialType = 'MeshDepthMaterial';\n      break;\n    case 'points':\n      materialType = 'PointsMaterial';\n      properties.push('color: 0x00ff00');\n      properties.push('size: 0.01');\n      properties.push('sizeAttenuation: true');\n      break;\n    default:\n      // Original material properties\n      properties.push(`color: new THREE.Color(${material.color.r}, ${material.color.g}, ${material.color.b})`);\n      if ('roughness' in material) properties.push(`roughness: ${(material as any).roughness}`);\n      if ('metalness' in material) properties.push(`metalness: ${(material as any).metalness}`);\n      if ('opacity' in material) properties.push(`opacity: ${(material as any).opacity}`);\n      if ('transparent' in material) properties.push(`transparent: ${(material as any).transparent}`);\n      if ('emissive' in material) {\n        const emissive = (material as any).emissive;\n        properties.push(`emissive: new THREE.Color(${emissive.r}, ${emissive.g}, ${emissive.b})`);\n      }\n      if ('emissiveIntensity' in material) properties.push(`emissiveIntensity: ${(material as any).emissiveIntensity}`);\n      if ('shininess' in material) properties.push(`shininess: ${(material as any).shininess}`);\n      break;\n  }\n  \n  switch (languageId) {\n    case 'typescript':\n      return `import * as THREE from 'three';\n/**\n * ${materialName} material\n * Reusable material definition\n */\nexport default function ${materialName}() {\n  return new THREE.${materialType}({\n    ${properties.join(',\\n    ')}\n  });\n}`;\n    case 'javascript':\n      return `import * as THREE from 'three';\n/**\n * ${materialName} material\n * Reusable material definition\n */\nexport default function ${materialName}() {\n  return new THREE.${materialType}({\n    ${properties.join(',\\n    ')}\n  });\n}`;\n    case 'python':\n      return `from three import ${materialType}\n\ndef ${materialName.toLowerCase()}():\n    \"\"\"${materialName} material\n    Reusable material definition\n    \"\"\"\n    return ${materialType}(\n        ${properties.map(prop => prop.replace(': ', '= ')).join(',\\n        ')}\n    )`;\n    case 'java':\n      return `import three.${materialType};\n\n/**\n * ${materialName} material\n * Reusable material definition\n */\npublic class ${materialName} {\n    public static ${materialType} create() {\n        return new ${materialType}(\n            ${properties.map(prop => {\n              const [key, value] = prop.split(': ');\n              return `${key} = ${value}`;\n            }).join(',\\n            ')}\n        );\n    }\n}`;\n    case 'csharp':\n      return `using ThreeJs;\n\n/**\n * ${materialName} material\n * Reusable material definition\n */\npublic class ${materialName}\n{\n    public static ${materialType} Create()\n    {\n        return new ${materialType}\n        {\n            ${properties.map(prop => {\n              const [key, value] = prop.split(': ');\n              return key + \" = \" + value;\n            }).join(',\\n            ')}\n        };\n    }\n}`;\n    default:\n      // Fallback to TypeScript for unsupported languages\n      return `import * as THREE from 'three';\n/**\n * ${materialName} material\n * Reusable material definition\n */\nexport default function ${materialName}() {\n  return new THREE.${materialType}({\n    ${properties.join(',\\n    ')}\n  });\n}`;\n  }\n}\n\n/**\n * Generates the main index component that assembles all parts\n * Component name starts with capital letter as required by React\n */\nfunction generateIndexComponent(\n  componentName: string,\n  meshes: MeshData[],\n  materials: MaterialData[],\n  displayMode: string,\n  languageId: LanguageId\n): string {\n  const lang = LANGUAGES[languageId];\n  \n  // Generate imports\n  const meshImports = meshes.map(mesh => \n    lang.import === 'import' ? \n      `import ${mesh.name} from './meshes/${mesh.name}';` :\n      lang.import === 'require' ?\n        `const ${mesh.name} = require('./meshes/${mesh.name}');` :\n        `${lang.import} '${mesh.name}' from './meshes/${mesh.name}';`\n  ).join('\\n');\n  \n  const materialImports = materials.map(material => \n    lang.import === 'import' ? \n      `import ${material.name} from './materials/${material.name}';` :\n      lang.import === 'require' ?\n        `const ${material.name} = require('./materials/${material.name}');` :\n        `${lang.import} '${material.name}' from './materials/${material.name}';`\n  ).join('\\n');\n  \n  const meshElements = meshes.map((mesh, i) => {\n    const material = materials[i % materials.length];\n    return lang.class === 'class' ?\n      `      <${mesh.name} material={${material.name}.create()} />` :\n      `      <${mesh.name} material={${material.name}()} />`;\n  }).join('\\n');\n  \n  switch (languageId) {\n    case 'typescript':\n      return `import React, { useRef } from 'react';\nimport type { GroupProps } from '@react-three/fiber';\n${meshImports}\n${materialImports}\n/**\n * ${componentName} component\n * Main component that assembles all mesh and material parts\n */\nexport default function ${componentName}(props: GroupProps) {\n  const ref = useRef();\n  return (\n    <group ref={ref} {...props}>\n${meshElements}\n    </group>\n  );\n}`;\n    case 'javascript':\n      return `import React, { useRef } from 'react';\n${meshImports}\n${materialImports}\n/**\n * ${componentName} component\n * Main component that assembles all mesh and material parts\n */\nexport default function ${componentName}(props) {\n  const ref = useRef();\n  return (\n    <group ref={ref} {...props}>\n${meshElements}\n    </group>\n  );\n}`;\n    case 'python':\n      return `from react import createElement, useRef\nfrom .meshes import ${meshes.map(m => m.name).join(', ')}\nfrom .materials import ${materials.map(m => m.name).join(', ')}\n\ndef ${componentName.toLowerCase()}(props):\n    \"\"\"${componentName} component\n    Main component that assembles all mesh and material parts\n    \"\"\"\n    ref = useRef()\n    return createElement('group', {**props, 'ref': ref},\n        ${meshes.map((mesh, i) => {\n          const material = materials[i % materials.length];\n          return `createElement(${mesh.name}, {'material': ${material.name}()})`;\n        }).join(',\\n        ')})\n`;\n    case 'java':\n      return `import react.Component;\nimport react.Ref;\nimport three.Group;\n\n/**\n * ${componentName} component\n * Main component that assembles all mesh and material parts\n */\npublic class ${componentName} extends Component {\n    private Ref ref;\n    \n    public ${componentName}(Object props) {\n        super(props);\n        this.ref = useRef();\n    }\n    \n    @Override\n    public Object render() {\n        return new Group(ref, props,\n            ${meshes.map((mesh, i) => {\n              const material = materials[i % materials.length];\n              return `new ${mesh.name}(new ${material.name}().create())`;\n            }).join(',\\n            ')});\n    }\n}`;\n    case 'csharp':\n      return `using React;\nusing ThreeJs;\n\n/**\n * ${componentName} component\n * Main component that assembles all mesh and material parts\n */\npublic class ${componentName}\n{\n    private Ref Ref { get; }\n    \n    public ${componentName}(object props)\n    {\n        Ref = useRef();\n    }\n    \n    public object Render(object props)\n    {\n        return new Group(Ref, props,\n            ${meshes.map((mesh, i) => {\n              const material = materials[i % materials.length];\n              return `new ${mesh.name}(props, ${material.name}.Create())`;\n            }).join(\",\\n            \")});\n    }\n}`;\n    default:\n      // Fallback to TypeScript for unsupported languages\n      return `import React, { useRef } from 'react';\nimport type { GroupProps } from '@react-three/fiber';\n${meshImports}\n${materialImports}\n/**\n * ${componentName} component\n * Main component that assembles all mesh and material parts\n */\nexport default function ${componentName}(props: GroupProps) {\n  const ref = useRef();\n  return (\n    <group ref={ref} {...props}>\n${meshElements}\n    </group>\n  );\n}`;\n  }\n}\n\n/**\n * Generates a complete example page showing how to use the component\n * Component name starts with capital letter as required by React\n */\nfunction generateExamplePage(componentName: string, languageId: LanguageId): string {\n  const lang = LANGUAGES[languageId];\n  \n  switch (languageId) {\n    case 'typescript':\n      return `import React from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { OrbitControls, Environment } from '@react-three/drei';\nimport ${componentName} from '@/components/${componentName}';\n/**\n * Example page demonstrating how to use the ${componentName} component\n */\nexport default function ${componentName}Page() {\n  return (\n    <div className=\"w-full h-screen\">\n      <Canvas \n        camera={{ position: [0, 0, 5], fov: 50 }}\n        gl={{ \n          powerPreference: \"high-performance\",\n          antialias: true,\n          alpha: true\n        }}\n      >\n        <ambientLight intensity={0.5} />\n        <pointLight position={[10, 10, 10]} />\n        <${componentName} />\n        <OrbitControls \n          enableZoom \n          enablePan \n          enableRotate \n          minDistance={0.1}\n          maxDistance={100}\n        />\n        <Environment preset=\"studio\" />\n      </Canvas>\n    </div>\n  );\n}`;\n    case 'javascript':\n      return `import React from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { OrbitControls, Environment } from '@react-three/drei';\nimport ${componentName} from '@/components/${componentName}';\n/**\n * Example page demonstrating how to use the ${componentName} component\n */\nexport default function ${componentName}Page() {\n  return (\n    <div className=\"w-full h-screen\">\n      <Canvas \n        camera={{ position: [0, 0, 5], fov: 50 }}\n        gl={{ \n          powerPreference: \"high-performance\",\n          antialias: true,\n          alpha: true\n        }}\n      >\n        <ambientLight intensity={0.5} />\n        <pointLight position={[10, 10, 10]} />\n        <${componentName} />\n        <OrbitControls \n          enableZoom \n          enablePan \n          enableRotate \n          minDistance={0.1}\n          maxDistance={100}\n        />\n        <Environment preset=\"studio\" />\n      </Canvas>\n    </div>\n  );\n}`;\n    case 'python':\n      return `from react import createElement\nfrom three import Canvas, ambientLight, pointLight, Environment\nfrom three.drei import OrbitControls\nfrom components.${componentName.toLowerCase()} import ${componentName}\n\ndef ${componentName}Page(props):\n    \"\"\"Example page demonstrating how to use the ${componentName} component\"\"\"\n    return createElement('div', {'className': 'w-full h-screen'},\n        createElement(Canvas, {\n            'camera': {'position': [0, 0, 5], 'fov': 50},\n            'gl': {\n                'powerPreference': \"high-performance\",\n                'antialias': True,\n                'alpha': True\n            }\n        },\n            ambientLight({'intensity': 0.5}),\n            pointLight({'position': [10, 10, 10]}),\n            ${componentName}(),\n            OrbitControls({\n                'enableZoom': True,\n                'enablePan': True,\n                'enableRotate': True,\n                'minDistance': 0.1,\n                'maxDistance': 100\n            }),\n            Environment({'preset': \"studio\"})\n        )\n    )`;\n    case 'java':\n      return `import react.Component;\nimport three.Canvas;\nimport three.ambientLight;\nimport three.pointLight;\nimport three.Environment;\nimport drei.OrbitControls;\nimport components.${componentName}.${componentName};\n\n/**\n * Example page demonstrating how to use the ${componentName} component\n */\npublic class ${componentName}Page extends Component {\n    @Override\n    public Object render() {\n        return new div(\n            new Canvas(\n                new Canvas.Properties()\n                    .camera(new CameraProperties().position(new float[]{0, 0, 5}).fov(50))\n                    .gl(new GLProperties()\n                        .powerPreference(\"high-performance\")\n                        .antialias(true)\n                        .alpha(true)),\n                new ambientLight(new LightProperties().intensity(0.5)),\n                new pointLight(new LightProperties().position(new float[]{10, 10, 10})),\n                new ${componentName}(),\n                new OrbitControls(new OrbitControls.Properties()\n                    .enableZoom(true)\n                    .enablePan(true)\n                    .enableRotate(true)\n                    .minDistance(0.1f)\n                    .maxDistance(100f)),\n                new Environment(new Environment.Properties().preset(\"studio\"))\n            )\n        );\n    }\n}`;\n    case 'csharp':\n      return `using React;\nusing ThreeJs;\nusing Drei;\n\n/**\n * Example page demonstrating how to use the ${componentName} component\n */\npublic class ${componentName}Page\n{\n    public object Render()\n    {\n        return new div(new {\n            ClassName = \"w-full h-screen\"\n        },\n            new Canvas(new {\n                Camera = new {\n                    Position = new[] { 0f, 0f, 5f },\n                    Fov = 50f\n                },\n                Gl = new {\n                    PowerPreference = \"high-performance\",\n                    Antialias = true,\n                    Alpha = true\n                }\n            },\n                new ambientLight(new { Intensity = 0.5f }),\n                new pointLight(new { Position = new[] { 10f, 10f, 10f } }),\n                new ${componentName}(),\n                new OrbitControls(new {\n                    EnableZoom = true,\n                    EnablePan = true,\n                    EnableRotate = true,\n                    MinDistance = 0.1f,\n                    MaxDistance = 100f\n                }),\n                new Environment(new { Preset = \"studio\" })\n            )\n        );\n    }\n}`;\n    default:\n      // Fallback to TypeScript for unsupported languages\n      return `import React from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { OrbitControls, Environment } from '@react-three/drei';\nimport ${componentName} from '@/components/${componentName}';\n/**\n * Example page demonstrating how to use the ${componentName} component\n */\nexport default function ${componentName}Page() {\n  return (\n    <div className=\"w-full h-screen\">\n      <Canvas \n        camera={{ position: [0, 0, 5], fov: 50 }}\n        gl={{ \n          powerPreference: \"high-performance\",\n          antialias: true,\n          alpha: true\n        }}\n      >\n        <ambientLight intensity={0.5} />\n        <pointLight position={[10, 10, 10]} />\n        <${componentName} />\n        <OrbitControls \n          enableZoom \n          enablePan \n          enableRotate \n          minDistance={0.1}\n          maxDistance={100}\n        />\n        <Environment preset=\"studio\" />\n      </Canvas>\n    </div>\n  );\n}`;\n  }\n}\n\n/**\n * Sanitizes names to be valid JavaScript identifiers\n */\nfunction sanitizeName(name: string): string {\n  // Replace invalid characters with underscores\n  let safeName = name.replace(/[^a-zA-Z0-9_]/g, '_');\n  // Ensure it starts with a letter\n  if (!/^[a-zA-Z_]/.test(safeName)) {\n    safeName = '_' + safeName;\n  }\n  // Handle reserved keywords\n  const reservedKeywords = ['default', 'function', 'class', 'export', 'import', 'let', 'const', 'var'];\n  if (reservedKeywords.includes(safeName.toLowerCase())) {\n    safeName = '_' + safeName;\n  }\n  return safeName;\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///Users/nitishkumar/Downloads/gltf2code/app/glb-convertor/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport * as THREE from 'three';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { OrbitControls, Environment, Html } from '@react-three/drei';\nimport { Download, Upload, Eye, Code, Loader2, AlertCircle, File, FileText, Folder, Layout, Languages } from 'lucide-react';\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\nimport JSZip from 'jszip';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport saveAs from 'file-saver';\nimport { generateProjectStructure } from '@/app/lib/glb-converter';\nimport { MeshData, MaterialData, ProjectStructure, GeometryData } from '@/app/types/glb-convertor';\n\n// Language configuration for syntax highlighting and code generation\nconst LANGUAGES = [\n  { id: 'typescript', name: 'TypeScript', extension: 'tsx', geometryExtension: 'ts', group: 'Web' },\n  { id: 'javascript', name: 'JavaScript', extension: 'jsx', geometryExtension: 'js', group: 'Web' },\n  { id: 'python', name: 'Python', extension: 'py', geometryExtension: 'py', group: 'General' },\n  { id: 'java', name: 'Java', extension: 'java', geometryExtension: 'java', group: 'General' },\n  { id: 'csharp', name: 'C#', extension: 'cs', geometryExtension: 'cs', group: 'General' },\n  { id: 'cpp', name: 'C++', extension: 'cpp', geometryExtension: 'h', group: 'Systems' },\n  { id: 'go', name: 'Go', extension: 'go', geometryExtension: 'go', group: 'Systems' },\n  { id: 'rust', name: 'Rust', extension: 'rs', geometryExtension: 'rs', group: 'Systems' },\n  { id: 'swift', name: 'Swift', extension: 'swift', geometryExtension: 'swift', group: 'Mobile' },\n  { id: 'kotlin', name: 'Kotlin', extension: 'kt', geometryExtension: 'kt', group: 'Mobile' },\n  { id: 'ruby', name: 'Ruby', extension: 'rb', geometryExtension: 'rb', group: 'Web' },\n  { id: 'php', name: 'PHP', extension: 'php', geometryExtension: 'php', group: 'Web' },\n  { id: 'scala', name: 'Scala', extension: 'scala', geometryExtension: 'scala', group: 'General' },\n  { id: 'dart', name: 'Dart', extension: 'dart', geometryExtension: 'dart', group: 'Mobile' },\n  { id: 'r', name: 'R', extension: 'R', geometryExtension: 'R', group: 'Data Science' }\n] as const;\n\ntype LanguageId = typeof LANGUAGES[number]['id'];\n\n// VS Code-like editor component with syntax highlighting\nfunction CodeEditor({ code, languageId }: { code: string; languageId: LanguageId }) {\n  const language = LANGUAGES.find(lang => lang.id === languageId);\n  const lines = code.split('\\n');\n  \n  const getSyntaxClass = (line: string, index: number) => {\n    if (line.trim().startsWith('//') || line.trim().startsWith('#')) {\n      return 'text-[#6A9955]'; // Comments\n    }\n    if (line.includes('import') || line.includes('from') || line.includes('require')) {\n      return 'text-[#C586C0]'; // Imports\n    }\n    if (line.includes('function') || line.includes('def') || line.includes('class')) {\n      return 'text-[#569CD6]'; // Keywords\n    }\n    if (line.includes('const') || line.includes('let') || line.includes('var') || \n        line.includes('final') || line.includes('static') || line.includes('public')) {\n      return 'text-[#9CDCFE]'; // Variables\n    }\n    if (line.includes('{') || line.includes('}') || line.includes('[') || line.includes(']') || \n        line.includes('(') || line.includes(')')) {\n      return 'text-[#D4D4D4]'; // Brackets\n    }\n    if (line.includes('=') || line.includes('+') || line.includes('-') || \n        line.includes('*') || line.includes('/') || line.includes('%')) {\n      return 'text-[#D4D4D4]'; // Operators\n    }\n    if (line.includes('\"') || line.includes(\"'\") || line.includes('`')) {\n      return 'text-[#CE9178]'; // Strings\n    }\n    if (!isNaN(Number(line.trim())) || line.trim().match(/0x[0-9A-Fa-f]+/)) {\n      return 'text-[#B5CEA8]'; // Numbers\n    }\n    return 'text-[#D4D4D4]'; // Default\n  };\n\n  return (\n    <div className=\"bg-[#1E1E1E] rounded-lg overflow-hidden font-mono text-sm h-full flex flex-col\">\n      <div className=\"bg-[#3C3C3C] px-4 py-2 flex items-center justify-between border-b border-[#333333]\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full bg-[#FF5F56]\"></div>\n          <div className=\"w-3 h-3 rounded-full bg-[#FFBD2E]\"></div>\n          <div className=\"w-3 h-3 rounded-full bg-[#27C93F]\"></div>\n        </div>\n        <div className=\"text-[#CCCCCC] text-xs flex items-center gap-2\">\n          <span>{language?.name}</span>\n          <span className=\"text-[#858585]\"></span>\n          <span className=\"text-[#858585]\">{lines.length} lines</span>\n        </div>\n      </div>\n      <div className=\"flex-1 overflow-auto p-4\">\n        <div className=\"flex\">\n          <div className=\"text-[#858585] w-8 select-none flex-shrink-0 pr-4 text-right\">\n            {lines.map((_, i) => (\n              <div key={i} className=\"select-none\">{i + 1}</div>\n            ))}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            {lines.map((line, i) => (\n              <div key={i} className={`whitespace-pre ${getSyntaxClass(line, i)}`}>\n                {line}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Language selector component with grouping\nfunction LanguageSelector({ \n  selectedLanguage, \n  onChange \n}: { \n  selectedLanguage: LanguageId; \n  onChange: (language: LanguageId) => void \n}) {\n  const groups = Array.from(new Set(LANGUAGES.map(lang => lang.group)));\n  \n  return (\n    <div className=\"relative\">\n      <div className=\"flex items-center gap-2\">\n        <Languages className=\"w-4 h-4 text-purple-400\" />\n        <select\n          value={selectedLanguage}\n          onChange={(e) => onChange(e.target.value as LanguageId)}\n          className=\"bg-slate-700 text-white px-3 py-1.5 rounded border border-slate-600 focus:border-purple-500 outline-none text-sm appearance-none pr-8 bg-[url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22%239CA3AF%22><path d=%22M7 10l5 5 5-5z%22/></svg>')] bg-no-repeat bg-[right_0.5rem_center] bg-[length:1rem] cursor-pointer\"\n        >\n          {groups.map(group => (\n            <optgroup key={group} label={group}>\n              {LANGUAGES.filter(lang => lang.group === group).map(lang => (\n                <option key={lang.id} value={lang.id}>\n                  {lang.name}\n                </option>\n              ))}\n            </optgroup>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n}\n\nexport default function GLBConverter() {\n  const [file, setFile] = useState<File | null>(null);\n  const [modelUrl, setModelUrl] = useState('');\n  const [projectStructure, setProjectStructure] = useState<ProjectStructure | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState<'upload' | 'preview' | 'code'>('upload');\n  const [gltfData, setGltfData] = useState<any>(null);\n  // Display options\n  const [displayMode, setDisplayMode] = useState<'original' | 'wireframe' | 'solid' | 'normals' | 'depth' | 'points'>('original');\n  const [autoRotate, setAutoRotate] = useState(true);\n  const [showGrid, setShowGrid] = useState(false);\n  const [showAxes, setShowAxes] = useState(false);\n  const [componentName, setComponentName] = useState('Model');\n  const [selectedLanguage, setSelectedLanguage] = useState<LanguageId>('typescript');\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const uploadedFile = event.target.files?.[0];\n    if (uploadedFile && uploadedFile.name.endsWith('.glb')) {\n      setFile(uploadedFile);\n      setError('');\n      setIsLoading(true);\n      setProgress(0);\n      try {\n        // Create object URL for preview\n        const url = URL.createObjectURL(uploadedFile);\n        setModelUrl(url);\n        // Load GLTF with progress tracking for large files\n        await loadGLTFWithProgress(url, uploadedFile);\n        // Generate component name from filename\n        const name = uploadedFile.name.replace('.glb', '').replace(/[^a-zA-Z0-9]/g, '');\n        const capitalizedName = name.charAt(0).toUpperCase() + name.slice(1);\n        setComponentName(capitalizedName);\n        setActiveTab('preview');\n      } catch (err) {\n        console.error(\"Error loading GLTF\", err);\n        setError('Error processing GLB file. The file may be too large or corrupted.');\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      setError('Please upload a valid .glb file');\n    }\n  };\n\n  const loadGLTFWithProgress = async (url: string, file: File) => {\n    setIsProcessing(true);\n    setProgress(0);\n    return new Promise<void>((resolve, reject) => {\n      try {\n        // Set up DRACO decoder for compressed models (common in large GLBs)\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');\n        \n        // Track progress for large files\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.onload = function() {\n          if (xhr.status === 200) {\n            try {\n              // Process the GLB data\n              const loader = new GLTFLoader();\n              loader.setDRACOLoader(dracoLoader);\n              \n              loader.parse(\n                xhr.response,\n                '',\n                (gltf) => {\n                  // Store GLTF data for transpilation\n                  setGltfData(gltf);\n                  // Generate project structure\n                  const structure = generateProjectStructure(gltf, componentName, displayMode, selectedLanguage);\n                  setProjectStructure(structure);\n                  setIsProcessing(false);\n                  resolve();\n                },\n                (error) => {\n                  console.error(\"Error parsing GLTF\", error);\n                  setIsProcessing(false);\n                  reject(error);\n                }\n              );\n            } catch (parseError) {\n              console.error(\"Error parsing GLTF data\", parseError);\n              setIsProcessing(false);\n              reject(parseError);\n            }\n          } else {\n            reject(new Error(`Failed to load file: ${xhr.statusText}`));\n          }\n        };\n        xhr.onprogress = function(event) {\n          if (event.lengthComputable) {\n            const percentComplete = (event.loaded / event.total) * 100;\n            setProgress(percentComplete);\n          }\n        };\n        xhr.onerror = function() {\n          reject(new Error('Network error occurred while loading the file'));\n        };\n        xhr.send();\n      } catch (err) {\n        setIsProcessing(false);\n        reject(err);\n      }\n    });\n  };\n  // Add this useEffect hook to regenerate code when language changes\nuseEffect(() => {\n  if (gltfData && componentName && activeTab === 'code') {\n    setIsProcessing(true);\n    setProgress(0);\n    try {\n      console.log(`Regenerating project structure for ${selectedLanguage}...`);\n      // Generate project structure with current settings\n      const structure = generateProjectStructure(\n        gltfData, \n        componentName, \n        displayMode, \n        selectedLanguage\n      );\n      setProjectStructure(structure);\n      setProgress(100);\n      console.log(\"Project structure regenerated successfully\");\n    } catch (err) {\n      console.error(\"Error regenerating project structure\", err);\n      setError('Failed to regenerate project structure for the selected language');\n    } finally {\n      setIsProcessing(false);\n    }\n  }\n}, [selectedLanguage, gltfData, componentName, displayMode, activeTab]);\n  const downloadZip = (includeExamplePage: boolean = false) => {\n    if (!projectStructure) return;\n    setIsProcessing(true);\n    try {\n      const zip = new JSZip();\n      const lang = LANGUAGES.find(l => l.id === selectedLanguage);\n      if (!lang) return;\n      \n      // Create folder structure\n      const componentFolder = zip.folder(`components/${componentName}`);\n      const meshesFolder = componentFolder?.folder('meshes');\n      const geometriesFolder = componentFolder?.folder('geometries');\n      const materialsFolder = componentFolder?.folder('materials');\n      \n      // Add index file\n      componentFolder?.file(`index.${lang.extension}`, projectStructure.indexContent);\n      \n      // Add geometry files\n      projectStructure.geometries?.forEach(geometry => {\n        geometriesFolder?.file(`${geometry.name}Geometry.${lang.geometryExtension}`, geometry.content);\n      });\n      \n      // Add mesh files\n      projectStructure.meshes.forEach(mesh => {\n        meshesFolder?.file(`${mesh.name}.${lang.extension}`, mesh.content);\n      });\n      \n      // Add material files\n      projectStructure.materials.forEach(material => {\n        materialsFolder?.file(`${material.name}.${lang.extension}`, material.content);\n      });\n      \n      // Add example page if requested\n      if (includeExamplePage) {\n        const appFolder = zip.folder('app');\n        const modelPageFolder = appFolder?.folder(`${componentName.toLowerCase()}-page`);\n        modelPageFolder?.file(`page.${lang.extension}`, projectStructure.examplePageContent);\n      }\n      \n      // Generate and download zip\n      zip.generateAsync({ type: 'blob' }).then(content => {\n        const suffix = includeExamplePage ? '-with-example' : '';\n        saveAs(content, `${componentName}-${selectedLanguage}${suffix}.zip`);\n      });\n    } catch (err) {\n      console.error(\"Error generating ZIP\", err);\n      setError('Failed to generate ZIP file. The model might be too large.');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const downloadCurrentView = () => {\n    if (!gltfData) return;\n    setIsProcessing(true);\n    try {\n      // Generate project structure with current display mode\n      const structure = generateProjectStructure(gltfData, componentName, displayMode, selectedLanguage);\n      const zip = new JSZip();\n      const lang = LANGUAGES.find(l => l.id === selectedLanguage);\n      if (!lang) return;\n      \n      // Create folder structure\n      const componentFolder = zip.folder(`components/${componentName}-${displayMode}`);\n      const meshesFolder = componentFolder?.folder('meshes');\n      const geometriesFolder = componentFolder?.folder('geometries');\n      const materialsFolder = componentFolder?.folder('materials');\n      \n      // Add index file\n      componentFolder?.file(`index.${lang.extension}`, structure.indexContent);\n      \n      // Add geometry files\n      structure.geometries?.forEach(geometry => {\n        geometriesFolder?.file(`${geometry.name}Geometry.${lang.geometryExtension}`, geometry.content);\n      });\n      \n      // Add mesh files\n      structure.meshes.forEach(mesh => {\n        meshesFolder?.file(`${mesh.name}.${lang.extension}`, mesh.content);\n      });\n      \n      // Add material files\n      structure.materials.forEach(material => {\n        materialsFolder?.file(`${material.name}.${lang.extension}`, material.content);\n      });\n      \n      // Add example page\n      const appFolder = zip.folder('app');\n      const modelPageFolder = appFolder?.folder(`${componentName.toLowerCase()}-${displayMode}-page`);\n      modelPageFolder?.file(`page.${lang.extension}`, structure.examplePageContent);\n      \n      // Generate and download zip\n      zip.generateAsync({ type: 'blob' }).then(content => {\n        saveAs(content, `${componentName}-${displayMode}-${selectedLanguage}.zip`);\n      });\n    } catch (err) {\n      console.error(\"Error generating ZIP for current view\", err);\n      setError(`Failed to generate ZIP for ${displayMode} view. The model might be too large.`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const downloadModel = () => {\n    if (!file) return;\n    const url = URL.createObjectURL(file);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = file.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-slate-100\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-4 flex items-center justify-center gap-3\">\n            <Code className=\"w-10 h-10 text-purple-400\" />\n            GLB to Code Converter\n          </h1>\n          <p className=\"text-slate-300 max-w-3xl mx-auto text-lg\">\n            Convert your GLB 3D models into self-contained components in 15+ programming languages with separate geometry blocks for easier maintenance.\n            Handles large files efficiently with progress tracking and memory optimization.\n          </p>\n        </div>\n        \n        {/* Navigation Tabs */}\n        <div className=\"flex justify-center mb-8\">\n          <div className=\"bg-slate-800 rounded-lg p-1 flex\">\n            <button\n              onClick={() => setActiveTab('upload')}\n              className={`px-6 py-2 rounded-md font-medium transition-all flex items-center gap-2 ${\n                activeTab === 'upload'\n                  ? 'bg-purple-600 text-white'\n                  : 'text-slate-400 hover:text-white'\n              }`}\n            >\n              <Upload className=\"w-4 h-4\" />\n              Upload\n            </button>\n            <button\n              onClick={() => setActiveTab('preview')}\n              disabled={!file}\n              className={`px-6 py-2 rounded-md font-medium transition-all flex items-center gap-2 ${\n                activeTab === 'preview' && file\n                  ? 'bg-purple-600 text-white'\n                  : 'text-slate-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed'\n              }`}\n            >\n              <Eye className=\"w-4 h-4\" />\n              Preview\n            </button>\n            <button\n              onClick={() => setActiveTab('code')}\n              disabled={!projectStructure}\n              className={`px-6 py-2 rounded-md font-medium transition-all flex items-center gap-2 ${\n                activeTab === 'code' && projectStructure\n                  ? 'bg-purple-600 text-white'\n                  : 'text-slate-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed'\n              }`}\n            >\n              <Code className=\"w-4 h-4\" />\n              Code\n            </button>\n          </div>\n        </div>\n        \n        {/* Error Display */}\n        {error && (\n          <div className=\"bg-red-900/50 border border-red-500 rounded-lg p-4 mb-6 max-w-2xl mx-auto\">\n            <div className=\"flex items-center\">\n              <AlertCircle className=\"w-5 h-5 text-red-400 mr-2\" />\n              <span className=\"text-red-200\">{error}</span>\n            </div>\n          </div>\n        )}\n        \n        {/* Upload Tab */}\n        {activeTab === 'upload' && (\n          <div className=\"max-w-2xl mx-auto\">\n            <div className=\"bg-slate-800 rounded-xl p-8 border border-slate-700\">\n              <div className=\"text-center\">\n                <div className=\"border-2 border-dashed border-slate-600 rounded-lg p-12 hover:border-purple-500 transition-colors\">\n                  <Upload className=\"w-12 h-12 text-slate-400 mx-auto mb-4\" />\n                  <h3 className=\"text-xl font-semibold text-white mb-2\">\n                    Upload your GLB model\n                  </h3>\n                  <p className=\"text-slate-400 mb-6\">\n                    Drop your .glb file here or click to browse\n                  </p>\n                  <input\n                    type=\"file\"\n                    accept=\".glb\"\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                    id=\"file-upload\"\n                    disabled={isLoading}\n                  />\n                  <label\n                    htmlFor=\"file-upload\"\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg cursor-pointer transition-colors inline-block ${\n                      isLoading ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isLoading ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 inline mr-2 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      'Choose File'\n                    )}\n                  </label>\n                </div>\n              </div>\n              \n              {/* Progress Bar for Large Files */}\n              {(isLoading || isProcessing) && (\n                <div className=\"mt-6\">\n                  <div className=\"flex justify-between mb-1\">\n                    <span className=\"text-slate-300 text-sm\">\n                      {isProcessing ? 'Processing model...' : 'Loading file...'}\n                    </span>\n                    <span className=\"text-slate-300 text-sm\">{Math.round(progress)}%</span>\n                  </div>\n                  <div className=\"w-full bg-slate-700 rounded-full h-2.5\">\n                    <div \n                      className=\"bg-purple-600 h-2.5 rounded-full transition-all duration-300\" \n                      style={{ width: `${progress}%` }}\n                    ></div>\n                  </div>\n                  <p className=\"text-slate-400 text-xs mt-2\">\n                    {progress < 100 \n                      ? \"Loading large model. This may take a few moments...\" \n                      : \"Optimizing model data for transpilation...\"}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        \n        {/* Preview Tab */}\n        {activeTab === 'preview' && modelUrl && (\n          <div className=\"max-w-6xl mx-auto\">\n            <div className=\"bg-slate-800 rounded-xl p-6 border border-slate-700\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-xl font-semibold text-white\">3D Model Preview</h3>\n                <div className=\"flex items-center gap-4\">\n                  {/* Display Mode Controls */}\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-slate-300 text-sm\">Display Mode:</label>\n                    <select\n                      value={displayMode}\n                      onChange={(e) => setDisplayMode(e.target.value as any)}\n                      className=\"bg-slate-700 text-white px-3 py-1 rounded border border-slate-600 focus:border-purple-500 outline-none text-sm\"\n                    >\n                      <option value=\"original\">Original</option>\n                      <option value=\"wireframe\">Wireframe</option>\n                      <option value=\"solid\">Solid Color</option>\n                      <option value=\"normals\">Normals</option>\n                      <option value=\"depth\">Depth</option>\n                      <option value=\"points\">Point Cloud</option>\n                    </select>\n                  </div>\n                  \n                  {/* Toggle Controls */}\n                  <div className=\"flex items-center gap-4\">\n                    <label className=\"flex items-center gap-2 text-slate-300 text-sm\">\n                      <input\n                        type=\"checkbox\"\n                        checked={autoRotate}\n                        onChange={(e) => setAutoRotate(e.target.checked)}\n                        className=\"rounded border-slate-600 bg-slate-700 text-purple-600 focus:ring-purple-500\"\n                      />\n                      Auto Rotate\n                    </label>\n                    <label className=\"flex items-center gap-2 text-slate-300 text-sm\">\n                      <input\n                        type=\"checkbox\"\n                        checked={showGrid}\n                        onChange={(e) => setShowGrid(e.target.checked)}\n                        className=\"rounded border-slate-600 bg-slate-700 text-purple-600 focus:ring-purple-500\"\n                      />\n                      Grid\n                    </label>\n                    <label className=\"flex items-center gap-2 text-slate-300 text-sm\">\n                      <input\n                        type=\"checkbox\"\n                        checked={showAxes}\n                        onChange={(e) => setShowAxes(e.target.checked)}\n                        className=\"rounded border-slate-600 bg-slate-700 text-purple-600 focus:ring-purple-500\"\n                      />\n                      Axes\n                    </label>\n                  </div>\n                  \n                  <button\n                    onClick={downloadCurrentView}\n                    disabled={isProcessing}\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${\n                      isProcessing ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isProcessing ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <File className=\"w-4 h-4\" />\n                        Download {displayMode} Version\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n              \n              {/* Display Mode Description */}\n              <div className=\"mb-4\">\n                <div className=\"bg-slate-900 rounded-lg p-3\">\n                  <p className=\"text-slate-400 text-sm\">\n                    {displayMode === 'original' && 'Showing the original model with its materials and textures.'}\n                    {displayMode === 'wireframe' && 'Displaying the model as a wireframe structure showing the mesh geometry.'}\n                    {displayMode === 'solid' && 'Rendering the model with a uniform solid color material.'}\n                    {displayMode === 'normals' && 'Visualizing surface normals with color-coded directions (RGB = XYZ).'}\n                    {displayMode === 'depth' && 'Showing depth information - closer surfaces appear lighter.'}\n                    {displayMode === 'points' && 'Displaying the model as a point cloud of vertices.'}\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"bg-slate-900 rounded-lg overflow-hidden\" style={{ height: '500px' }}>\n                <Canvas \n                  camera={{ position: [0, 0, 5], fov: 50 }}\n                  gl={{ \n                    powerPreference: \"high-performance\",\n                    antialias: true,\n                    alpha: true\n                  }}\n                >\n                  <ambientLight intensity={0.5} />\n                  <pointLight position={[10, 10, 10]} />\n                  <pointLight position={[-10, -10, -10]} intensity={0.3} />\n                  \n                  {/* Memory-optimized loading for large models */}\n                  {modelUrl && (\n                    <React.Suspense fallback={\n                      <Html center>\n                        <div className=\"text-white bg-black/50 p-2 rounded\">\n                          <Loader2 className=\"w-4 h-4 inline mr-2 animate-spin\" />\n                          Loading model...\n                        </div>\n                      </Html>\n                    }>\n                      <ModelPreview \n                        url={modelUrl} \n                        displayMode={displayMode} \n                        autoRotate={autoRotate} \n                      />\n                    </React.Suspense>\n                  )}\n                  \n                  {showGrid && (\n                    <gridHelper args={[10, 10, '#444444', '#666666']} />\n                  )}\n                  {showAxes && (\n                    <axesHelper args={[2]} />\n                  )}\n                  \n                  <OrbitControls \n                    enableZoom \n                    enablePan \n                    enableRotate \n                    minDistance={0.1}\n                    maxDistance={100}\n                  />\n                  <Environment preset=\"studio\" />\n                </Canvas>\n              </div>\n              \n              <p className=\"text-slate-400 text-sm mt-4 text-center\">\n                Use mouse to rotate, zoom, and pan around the model. Try different display modes to analyze the model structure.\n              </p>\n            </div>\n          </div>\n        )}\n        {isProcessing && activeTab === 'code' && (\n  <div className=\"absolute top-4 right-4 bg-slate-800 px-3 py-1 rounded text-sm text-purple-400\">\n    Regenerating code...\n  </div>\n)}\n        {/* Code Tab */}\n        {activeTab === 'code' && projectStructure && (\n          <div className=\"max-w-6xl mx-auto\">\n            <div className=\"bg-slate-800 rounded-xl border border-slate-700\">\n              <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center p-6 border-b border-slate-700 gap-4\">\n                <div className=\"flex flex-col md:flex-row items-start md:items-center gap-4\">\n                  <h3 className=\"text-xl font-semibold text-white\">\n                    Project Structure\n                  </h3>\n                  {/* Language Selection */}\n                  <div className=\"flex items-center gap-2\">\n                    <LanguageSelector \n                      selectedLanguage={selectedLanguage} \n                      onChange={setSelectedLanguage} \n                    />\n                  </div>\n                </div>\n                <div className=\"flex flex-col md:flex-row gap-4 w-full md:w-auto\">\n                  <button\n                    onClick={() => downloadZip(true)}\n                    disabled={isProcessing}\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 w-full md:w-auto ${\n                      isProcessing ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isProcessing ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <Layout className=\"w-4 h-4\" />\n                        Download Full Project\n                      </>\n                    )}\n                  </button>\n                  <button\n                    onClick={() => downloadZip(false)}\n                    disabled={isProcessing}\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 w-full md:w-auto ${\n                      isProcessing ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isProcessing ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <File className=\"w-4 h-4\" />\n                        Download Component\n                      </>\n                    )}\n                  </button>\n                  <button\n                    onClick={downloadModel}\n                    className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 w-full md:w-auto\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download GLB\n                  </button>\n                </div>\n              </div>\n              \n              {/* Project Structure Overview */}\n              <div className=\"p-6 border-b border-slate-700\">\n                <div className=\"flex flex-col lg:flex-row items-start gap-6\">\n                  <div className=\"flex-1 min-w-0\">\n                    <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                      <Folder className=\"w-5 h-5 mr-2 text-purple-400\" />\n                      Project Structure\n                    </h4>\n                    <div className=\"bg-slate-900 rounded-lg p-4\">\n                      <div className=\"text-slate-400 text-sm\">\n                        <div className=\"flex items-center\">\n                          <Folder className=\"w-4 h-4 mr-2 text-yellow-400\" />\n                          <span className=\"font-medium\">components</span>\n                        </div>\n                        <div className=\"pl-6\">\n                          <div className=\"flex items-center\">\n                            <Folder className=\"w-4 h-4 mr-2 text-blue-400\" />\n                            <span className=\"font-medium\">{componentName}</span>\n                          </div>\n                          <div className=\"pl-6\">\n                            <div className=\"flex items-center\">\n                              <FileText className=\"w-4 h-4 mr-2 text-green-400\" />\n                              <span>index.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                            </div>\n                            <div className=\"flex items-center mt-2\">\n                              <Folder className=\"w-4 h-4 mr-2 text-cyan-400\" />\n                              <span className=\"font-medium\">geometries</span>\n                            </div>\n                            <div className=\"pl-6\">\n                              {projectStructure.geometries?.map((geometry, i) => (\n                                <div key={i} className=\"flex items-center\">\n                                  <File className=\"w-4 h-4 mr-2 text-cyan-400\" />\n                                  <span>{geometry.name}Geometry.{LANGUAGES.find(l => l.id === selectedLanguage)?.geometryExtension}</span>\n                                </div>\n                              ))}\n                            </div>\n                            <div className=\"flex items-center mt-2\">\n                              <Folder className=\"w-4 h-4 mr-2 text-cyan-400\" />\n                              <span className=\"font-medium\">meshes</span>\n                            </div>\n                            <div className=\"pl-6\">\n                              {projectStructure.meshes.map((mesh, i) => (\n                                <div key={i} className=\"flex items-center\">\n                                  <File className=\"w-4 h-4 mr-2 text-cyan-400\" />\n                                  <span>{mesh.name}.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                                </div>\n                              ))}\n                            </div>\n                            <div className=\"flex items-center mt-2\">\n                              <Folder className=\"w-4 h-4 mr-2 text-orange-400\" />\n                              <span className=\"font-medium\">materials</span>\n                            </div>\n                            <div className=\"pl-6\">\n                              {projectStructure.materials.map((material, i) => (\n                                <div key={i} className=\"flex items-center\">\n                                  <File className=\"w-4 h-4 mr-2 text-orange-400\" />\n                                  <span>{material.name}.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"mt-4 flex items-center\">\n                          <Folder className=\"w-4 h-4 mr-2 text-purple-400\" />\n                          <span className=\"font-medium\">app</span>\n                        </div>\n                        <div className=\"pl-6\">\n                          <div className=\"flex items-center\">\n                            <Folder className=\"w-4 h-4 mr-2 text-blue-400\" />\n                            <span className=\"font-medium\">{componentName.toLowerCase()}-page</span>\n                          </div>\n                          <div className=\"pl-6\">\n                            <div className=\"flex items-center\">\n                              <FileText className=\"w-4 h-4 mr-2 text-green-400\" />\n                              <span>page.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                      <FileText className=\"w-5 h-5 mr-2 text-purple-400\" />\n                      Model Statistics\n                    </h4>\n                    <div className=\"bg-slate-900 rounded-lg p-4\">\n                      <div className=\"text-slate-400 text-sm space-y-2\">\n                        <div className=\"flex justify-between\">\n                          <span>Meshes:</span>\n                          <span className=\"font-medium\">{projectStructure.meshes.length}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Geometry Files:</span>\n                          <span className=\"font-medium\">{projectStructure.geometries?.length || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Materials:</span>\n                          <span className=\"font-medium\">{projectStructure.materials.length}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Total Vertices:</span>\n                          <span className=\"font-medium\">{projectStructure.totalVertices.toLocaleString()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Total Triangles:</span>\n                          <span className=\"font-medium\">{projectStructure.totalTriangles.toLocaleString()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>File Size:</span>\n                          <span className=\"font-medium\">{file ? (file.size / 1024 / 1024).toFixed(2) + ' MB' : 'N/A'}</span>\n                        </div>\n                        <div className=\"pt-2 border-t border-slate-700 mt-2\">\n                          <p className=\"text-xs text-slate-500\">\n                            {`Note: For extremely large models (>100MB), some meshes might be simplified \n                            during transpilation to prevent browser memory issues.`}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Code Preview */}\n              <div className=\"p-6\">\n                <div className=\"mb-6\">\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <FileText className=\"w-5 h-5 mr-2 text-purple-400\" />\n                    index.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension} - Main Component\n                  </h4>\n                  <CodeEditor \n                    code={projectStructure.indexContent} \n                    languageId={selectedLanguage} \n                  />\n                </div>\n                \n                <div className=\"mb-6\">\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <Folder className=\"w-5 h-5 mr-2 text-cyan-400\" />\n                    Example Page\n                  </h4>\n                  <div className=\"bg-slate-900 rounded-lg overflow-hidden\">\n                    <div className=\"px-4 py-2 bg-slate-800 border-b border-slate-700\">\n                      <span className=\"text-purple-400 font-mono\">app/{componentName.toLowerCase()}-page/page.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                    </div>\n                    <CodeEditor \n                      code={projectStructure.examplePageContent} \n                      languageId={selectedLanguage} \n                    />\n                  </div>\n                </div>\n                \n                <div className=\"mb-6\">\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <Folder className=\"w-5 h-5 mr-2 text-cyan-400\" />\n                    Geometry Files\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {projectStructure.geometries?.slice(0, 3).map((geometry, i) => (\n                      <div key={i} className=\"bg-slate-900 rounded-lg overflow-hidden\">\n                        <div className=\"px-4 py-2 bg-slate-800 border-b border-slate-700\">\n                          <span className=\"text-cyan-400 font-mono\">{geometry.name}Geometry.{LANGUAGES.find(l => l.id === selectedLanguage)?.geometryExtension}</span>\n                        </div>\n                        <CodeEditor \n                          code={geometry.content} \n                          languageId={selectedLanguage} \n                        />\n                      </div>\n                    ))}\n                    {projectStructure.geometries && projectStructure.geometries.length > 3 && (\n                      <div className=\"col-span-full text-center text-slate-400 text-sm py-4\">\n                        ... and {projectStructure.geometries.length - 3} more geometry files\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                <div className=\"mb-6\">\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <Folder className=\"w-5 h-5 mr-2 text-cyan-400\" />\n                    Mesh Components\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {projectStructure.meshes.slice(0, 3).map((mesh, i) => (\n                      <div key={i} className=\"bg-slate-900 rounded-lg overflow-hidden\">\n                        <div className=\"px-4 py-2 bg-slate-800 border-b border-slate-700\">\n                          <span className=\"text-cyan-400 font-mono\">{mesh.name}.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                        </div>\n                        <CodeEditor \n                          code={mesh.content} \n                          languageId={selectedLanguage} \n                        />\n                      </div>\n                    ))}\n                    {projectStructure.meshes.length > 3 && (\n                      <div className=\"col-span-full text-center text-slate-400 text-sm py-4\">\n                        ... and {projectStructure.meshes.length - 3} more mesh components\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                <div>\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <Folder className=\"w-5 h-5 mr-2 text-orange-400\" />\n                    Material Components\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {projectStructure.materials.slice(0, 3).map((material, i) => (\n                      <div key={i} className=\"bg-slate-900 rounded-lg overflow-hidden\">\n                        <div className=\"px-4 py-2 bg-slate-800 border-b border-slate-700\">\n                          <span className=\"text-orange-400 font-mono\">{material.name}.{LANGUAGES.find(l => l.id === selectedLanguage)?.extension}</span>\n                        </div>\n                        <CodeEditor \n                          code={material.content} \n                          languageId={selectedLanguage} \n                        />\n                      </div>\n                    ))}\n                    {projectStructure.materials.length > 3 && (\n                      <div className=\"col-span-full text-center text-slate-400 text-sm py-4\">\n                        ... and {projectStructure.materials.length - 3} more material components\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"p-6 border-t border-slate-700\">\n                <h4 className=\"text-lg font-semibold text-white mb-3\">\n                  How to Use\n                </h4>\n                <div className=\"space-y-3\">\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">1. Download the complete project with example page:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`<button onClick={() => downloadZip(true)}>Download Full Project</button>`}</code>\n                    </pre>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">2. Extract the zip file into your project root</p>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">3. The example page will be available at:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`app/${componentName.toLowerCase()}-page/page.${LANGUAGES.find(l => l.id === selectedLanguage)?.extension}`}</code>\n                    </pre>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">4. Import and use the component elsewhere:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`import ${componentName} from '@/components/${componentName}'\n// ...\n<Canvas>\n  <${componentName} />\n</Canvas>`}</code>\n                    </pre>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">5. Customize individual parts:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`// Access specific parts\nimport { MeshName } from '@/components/${componentName}/meshes'\nimport { MeshNameGeometry } from '@/components/${componentName}/geometries'\nimport { MaterialName } from '@/components/${componentName}/materials'\n// Example: Change material of a specific mesh\nfunction CustomModel() {\n  return (\n    <${componentName}>\n      <mesh geometry={${componentName}Geometry} material={new MaterialName()} />\n    </${componentName}>\n  )\n}`}</code>\n                    </pre>\n                  </div>\n                  <div className=\"pt-2 border-t border-slate-700 mt-2\">\n                    <p className=\"text-xs text-slate-500\">\n                      For extremely large models, the converter automatically applies optimizations:\n                      <br />- Geometry data is separated into reusable blocks for better maintainability\n                      <br />- Geometry files are stored in a dedicated folder for easy access\n                      <br />- Mesh components are simplified to just import and use geometry\n                      <br />- Memory usage is optimized for large models through better data structure\n                      <br />- Example page is included for immediate use with proper Canvas setup\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Component to display the GLB model in the preview with memory optimization\nfunction ModelPreview({ url, displayMode, autoRotate }: { \n  url: string; \n  displayMode: string; \n  autoRotate: boolean \n}) {\n  const [gltf, setGltf] = useState<any>(null);\n  const meshRef = useRef<THREE.Group>(null);\n  \n  // Load GLTF with memory optimization for large files\n  useEffect(() => {\n    let isMounted = true;\n    const loader = new GLTFLoader();\n    \n    // Set up DRACO for compressed models\n    const dracoLoader = new DRACOLoader();\n    dracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');\n    loader.setDRACOLoader(dracoLoader);\n    \n    // For large files, use a more memory-efficient approach\n    fetch(url)\n      .then(response => response.arrayBuffer())\n      .then(data => {\n        if (!isMounted) return;\n        loader.parse(\n          data,\n          '',\n          (gltf) => {\n            // For extremely large models, simplify geometries to prevent memory issues\n            if (gltf.scene) {\n              gltf.scene.traverse((object: THREE.Object3D) => {\n                if (object.isMesh) {\n                  const mesh = object as THREE.Mesh;\n                  const geometry = mesh.geometry;\n                  // Check if the geometry is extremely large\n                  const vertexCount = geometry.attributes.position.count;\n                  if (vertexCount > 1000000) {\n                    // For extremely large meshes, consider simplifying or warning\n                    console.warn(`Mesh ${mesh.name} has ${vertexCount} vertices - this may cause performance issues`);\n                  }\n                }\n              });\n            }\n            if (isMounted) {\n              setGltf(gltf);\n            }\n          },\n          (error) => {\n            console.error(\"Error parsing GLTF\", error);\n          }\n        );\n      })\n      .catch(error => {\n        console.error(\"Error loading GLB file\", error);\n      });\n      \n    return () => {\n      isMounted = false;\n      // Clean up GLTF resources\n      if (gltf) {\n        gltf.scene.traverse((object: THREE.Object3D) => {\n          if (object.isMesh) {\n            const mesh = object as THREE.Mesh;\n            mesh.geometry.dispose();\n            if (Array.isArray(mesh.material)) {\n              mesh.material.forEach(material => material.dispose());\n            } else {\n              mesh.material.dispose();\n            }\n          }\n        });\n      }\n    };\n  }, [url]);\n  \n  useFrame((state) => {\n    if (meshRef.current && autoRotate) {\n      meshRef.current.rotation.y = state.clock.getElapsedTime() * 0.5;\n    }\n  });\n  \n  // Apply material overrides based on display mode\n  useEffect(() => {\n    if (gltf && gltf.scene) {\n      gltf.scene.traverse((child: THREE.Object3D) => {\n        if (child.isMesh) {\n          const mesh = child as THREE.Mesh;\n          const originalMaterial = mesh.material;\n          \n          // Dispose of old materials to prevent memory leaks\n          if (Array.isArray(originalMaterial)) {\n            originalMaterial.forEach(material => material.dispose());\n          } else if (originalMaterial && 'dispose' in originalMaterial) {\n            (originalMaterial as THREE.Material).dispose();\n          }\n          \n          // Create new materials based on display mode\n          switch (displayMode) {\n            case 'wireframe':\n              if (Array.isArray(originalMaterial)) {\n                mesh.material = originalMaterial.map(mat => {\n                  const newMat = mat.clone();\n                  newMat.wireframe = true;\n                  newMat.transparent = true;\n                  newMat.opacity = 0.8;\n                  return newMat;\n                });\n              } else {\n                const newMat = originalMaterial.clone();\n                newMat.wireframe = true;\n                newMat.transparent = true;\n                newMat.opacity = 0.8;\n                mesh.material = newMat;\n              }\n              break;\n            case 'points':\n              mesh.material = new THREE.PointsMaterial({\n                color: 0x00ff00,\n                size: 0.01,\n                sizeAttenuation: true\n              });\n              break;\n            case 'normals':\n              mesh.material = new THREE.MeshNormalMaterial();\n              break;\n            case 'depth':\n              mesh.material = new THREE.MeshDepthMaterial();\n              break;\n            case 'solid':\n              mesh.material = new THREE.MeshStandardMaterial({\n                color: 0x888888,\n                metalness: 0.1,\n                roughness: 0.8\n              });\n              break;\n            default:\n              // Keep original materials for 'original' mode\n              mesh.material = originalMaterial;\n              break;\n          }\n        }\n      });\n    }\n  }, [gltf, displayMode]);\n  \n  if (!gltf) {\n    return (\n      <Html center>\n        <div className=\"text-white bg-black/50 p-2 rounded\">\n          <Loader2 className=\"w-4 h-4 inline mr-2 animate-spin\" />\n          Loading model...\n        </div>\n      </Html>\n    );\n  }\n  \n  return (\n    <primitive \n      ref={meshRef} \n      object={gltf.scene} \n      scale={[1, 1, 1]}\n      position={[0, 0, 0]}\n    />\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}