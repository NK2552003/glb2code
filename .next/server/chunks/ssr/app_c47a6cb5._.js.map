{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nitishkumar/Downloads/gltf2code/app/lib/glb-converter.ts"],"sourcesContent":["import * as THREE from 'three';\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\nimport type { MeshData, MaterialData, ProjectStructure } from '@/app/lib/glb-converter';\n\n/**\n * Generates a complete project structure from a GLTF model\n * Similar to what gltfjsx does with the -t flag\n */\nexport function generateProjectStructure(\n  gltf: GLTF, \n  componentName: string,\n  displayMode: string = 'original'\n): ProjectStructure {\n  const meshes: MeshData[] = [];\n  const materials: MaterialData[] = [];\n  let totalVertices = 0;\n  let totalTriangles = 0;\n  \n  // Process the scene to extract meshes and materials\n  gltf.scene.traverse((object) => {\n    if (object.isMesh) {\n      const mesh = object as THREE.Mesh;\n      const geometry = mesh.geometry;\n      \n      // Count vertices and triangles\n      totalVertices += geometry.attributes.position.count;\n      if (geometry.index) {\n        totalTriangles += geometry.index.count / 3;\n      } else {\n        totalTriangles += geometry.attributes.position.count / 3;\n      }\n      \n      // Generate mesh name\n      const meshName = mesh.name || `Mesh_${meshes.length}`;\n      const safeMeshName = sanitizeName(meshName);\n      \n      // Generate mesh component\n      const meshComponent = generateMeshComponent(safeMeshName, geometry, displayMode);\n      meshes.push({\n        name: safeMeshName,\n        content: meshComponent,\n        originalName: meshName\n      });\n      \n      // Process materials\n      const material = Array.isArray(mesh.material) ? mesh.material[0] : mesh.material;\n      const materialName = material.name || `Material_${materials.length}`;\n      const safeMaterialName = sanitizeName(materialName);\n      \n      // Only add unique materials\n      if (!materials.some(m => m.name === safeMaterialName)) {\n        const materialComponent = generateMaterialComponent(safeMaterialName, material, displayMode);\n        materials.push({\n          name: safeMaterialName,\n          content: materialComponent,\n          originalName: materialName\n        });\n      }\n    }\n  });\n  \n  // Generate the main index component\n  const indexContent = generateIndexComponent(componentName, meshes, materials, displayMode);\n  \n  return {\n    componentName,\n    indexContent,\n    meshes,\n    materials,\n    totalVertices,\n    totalTriangles\n  };\n}\n\n/**\n * Generates a mesh component with embedded geometry\n */\nfunction generateMeshComponent(meshName: string, geometry: THREE.BufferGeometry, displayMode: string): string {\n  // Extract geometry data\n  const positions = Array.from(geometry.attributes.position.array);\n  const normals = geometry.attributes.normal ? Array.from(geometry.attributes.normal.array) : null;\n  const uvs = geometry.attributes.uv ? Array.from(geometry.attributes.uv.array) : null;\n  const indices = geometry.index ? Array.from(geometry.index.array) : null;\n  \n  // Generate the component code\n  return `import React, { useMemo } from 'react';\nimport * as THREE from 'three';\n\nexport default function ${meshName}(props) {\n  const geometry = useMemo(() => {\n    const geom = new THREE.BufferGeometry();\n    \n    // Position data\n    const positions = new Float32Array(${JSON.stringify(positions)});\n    geom.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    \n    ${normals ? `// Normal data\n    const normals = new Float32Array(${JSON.stringify(normals)});\n    geom.setAttribute('normal', new THREE.BufferAttribute(normals, 3));` : ''}\n    \n    ${uvs ? `// UV data\n    const uvs = new Float32Array(${JSON.stringify(uvs)});\n    geom.setAttribute('uv', new THREE.BufferAttribute(uvs, 2));` : ''}\n    \n    ${indices ? `// Index data\n    const indices = new Uint16Array(${JSON.stringify(indices)});\n    geom.setIndex(new THREE.BufferAttribute(indices, 1));` : ''}\n    \n    return geom;\n  }, []);\n  \n  return <mesh geometry={geometry} {...props} />;\n}`;\n}\n\n/**\n * Generates a material component based on display mode\n */\nfunction generateMaterialComponent(materialName: string, material: THREE.Material, displayMode: string): string {\n  // Base material properties\n  let materialType = 'MeshStandardMaterial';\n  let properties: string[] = [];\n  \n  // Determine material type\n  if (material instanceof THREE.MeshBasicMaterial) materialType = 'MeshBasicMaterial';\n  else if (material instanceof THREE.MeshPhongMaterial) materialType = 'MeshPhongMaterial';\n  else if (material instanceof THREE.MeshLambertMaterial) materialType = 'MeshLambertMaterial';\n  else if (material instanceof THREE.MeshNormalMaterial) materialType = 'MeshNormalMaterial';\n  else if (material instanceof THREE.MeshDepthMaterial) materialType = 'MeshDepthMaterial';\n  else if (material instanceof THREE.MeshMatcapMaterial) materialType = 'MeshMatcapMaterial';\n  else if (material instanceof THREE.MeshToonMaterial) materialType = 'MeshToonMaterial';\n  else if (material instanceof THREE.MeshPhysicalMaterial) materialType = 'MeshPhysicalMaterial';\n  else if (material instanceof THREE.MeshStandardMaterial) materialType = 'MeshStandardMaterial';\n  else if (material instanceof THREE.ShaderMaterial) materialType = 'ShaderMaterial';\n  \n  // Extract properties based on display mode\n  switch (displayMode) {\n    case 'wireframe':\n      properties.push('wireframe: true');\n      properties.push('transparent: true');\n      properties.push('opacity: 0.8');\n      break;\n      \n    case 'solid':\n      properties.push('color: 0x888888');\n      properties.push('metalness: 0.1');\n      properties.push('roughness: 0.8');\n      break;\n      \n    case 'normals':\n      materialType = 'MeshNormalMaterial';\n      break;\n      \n    case 'depth':\n      materialType = 'MeshDepthMaterial';\n      break;\n      \n    case 'points':\n      materialType = 'PointsMaterial';\n      properties.push('color: 0x00ff00');\n      properties.push('size: 0.01');\n      properties.push('sizeAttenuation: true');\n      break;\n      \n    default:\n      // Original material properties\n      properties.push(`color: new THREE.Color(${material.color.r}, ${material.color.g}, ${material.color.b})`);\n      \n      if ('roughness' in material) properties.push(`roughness: ${(material as any).roughness}`);\n      if ('metalness' in material) properties.push(`metalness: ${(material as any).metalness}`);\n      if ('opacity' in material) properties.push(`opacity: ${(material as any).opacity}`);\n      if ('transparent' in material) properties.push(`transparent: ${(material as any).transparent}`);\n      if ('emissive' in material) {\n        const emissive = (material as any).emissive;\n        properties.push(`emissive: new THREE.Color(${emissive.r}, ${emissive.g}, ${emissive.b})`);\n      }\n      if ('emissiveIntensity' in material) properties.push(`emissiveIntensity: ${(material as any).emissiveIntensity}`);\n      if ('shininess' in material) properties.push(`shininess: ${(material as any).shininess}`);\n      break;\n  }\n  \n  // Generate the component code\n  return `import * as THREE from 'three';\n\nexport default function ${materialName}() {\n  return new THREE.${materialType}({\n    ${properties.join(',\\n    ')}\n  });\n}`;\n}\n\n/**\n * Generates the main index component that assembles all parts\n */\nfunction generateIndexComponent(\n  componentName: string,\n  meshes: MeshData[],\n  materials: MaterialData[],\n  displayMode: string\n): string {\n  // Generate imports\n  const meshImports = meshes.map(mesh => \n    `import ${mesh.name} from './meshes/${mesh.name}';`\n  ).join('\\n');\n  \n  const materialImports = materials.map(material => \n    `import ${material.name} from './materials/${material.name}';`\n  ).join('\\n');\n  \n  // Generate JSX structure\n  const meshElements = meshes.map((mesh, i) => {\n    const material = materials[i % materials.length];\n    return `      <${mesh.name} material={${material.name}()} />`;\n  }).join('\\n');\n  \n  return `import React, { useRef, useMemo } from 'react';\nimport type { GroupProps } from '@react-three/fiber';\n\n${meshImports}\n${materialImports}\n\nexport default function ${componentName}(props: GroupProps) {\n  const ref = useRef();\n  \n  return (\n    <group ref={ref} {...props}>\n${meshElements}\n    </group>\n  );\n}`;\n}\n\n/**\n * Sanitizes names to be valid JavaScript identifiers\n */\nfunction sanitizeName(name: string): string {\n  // Replace invalid characters with underscores\n  let safeName = name.replace(/[^a-zA-Z0-9_]/g, '_');\n  \n  // Ensure it starts with a letter\n  if (!/^[a-zA-Z_]/.test(safeName)) {\n    safeName = '_' + safeName;\n  }\n  \n  // Handle reserved keywords\n  const reservedKeywords = ['default', 'function', 'class', 'export', 'import', 'let', 'const', 'var'];\n  if (reservedKeywords.includes(safeName.toLowerCase())) {\n    safeName = '_' + safeName;\n  }\n  \n  return safeName;\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/nitishkumar/Downloads/gltf2code/app/glb-convertor/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Canvas, useFrame, useLoader } from '@react-three/fiber';\nimport { OrbitControls, Environment, useGLTF, Html } from '@react-three/drei';\nimport { Download, Upload, Eye, Code, Loader2, AlertCircle, File, FileText, Folder } from 'lucide-react';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\nimport JSZip from 'jszip';\nimport saveAs from 'file-saver';\nimport { generateProjectStructure, generateTranspiledComponent } from '@/app/lib/glb-converter';\nimport { MeshData, ProjectStructure } from '@/app/types/glb-convertor';\n\nexport default function GLBConverter() {\n  const [file, setFile] = useState<File | null>(null);\n  const [modelUrl, setModelUrl] = useState('');\n  const [projectStructure, setProjectStructure] = useState<ProjectStructure | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState<'upload' | 'preview' | 'code'>('upload');\n  const [gltfData, setGltfData] = useState<any>(null);\n  \n  // Display options\n  const [displayMode, setDisplayMode] = useState<'original' | 'wireframe' | 'solid' | 'normals' | 'depth' | 'points'>('original');\n  const [autoRotate, setAutoRotate] = useState(true);\n  const [showGrid, setShowGrid] = useState(false);\n  const [showAxes, setShowAxes] = useState(false);\n  const [componentName, setComponentName] = useState('Model');\n  const [selectedLanguage, setSelectedLanguage] = useState<'transpiled-tsx' | 'transpiled-jsx'>('transpiled-tsx');\n  \n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const uploadedFile = event.target.files?.[0];\n    if (uploadedFile && uploadedFile.name.endsWith('.glb')) {\n      setFile(uploadedFile);\n      setError('');\n      setIsLoading(true);\n      setProgress(0);\n      \n      try {\n        // Create object URL for preview\n        const url = URL.createObjectURL(uploadedFile);\n        setModelUrl(url);\n        \n        // Load GLTF with progress tracking for large files\n        await loadGLTFWithProgress(url, uploadedFile);\n        \n        // Generate component name from filename\n        const name = uploadedFile.name.replace('.glb', '').replace(/[^a-zA-Z0-9]/g, '');\n        const capitalizedName = name.charAt(0).toUpperCase() + name.slice(1);\n        setComponentName(capitalizedName);\n        \n        setActiveTab('preview');\n      } catch (err) {\n        console.error(\"Error loading GLTF \", err);\n        setError('Error processing GLB file. The file may be too large or corrupted.');\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      setError('Please upload a valid .glb file');\n    }\n  };\n  \n  const loadGLTFWithProgress = async (url: string, file: File) => {\n    setIsProcessing(true);\n    setProgress(0);\n    \n    return new Promise<void>((resolve, reject) => {\n      try {\n        // Set up DRACO decoder for compressed models (common in large GLBs)\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');\n        \n        const loader = new GLTFLoader();\n        loader.setDRACOLoader(dracoLoader);\n        \n        // Track progress for large files\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        \n        xhr.onload = function() {\n          if (xhr.status === 200) {\n            try {\n              // Process the GLB data\n              loader.parse(\n                xhr.response,\n                '',\n                (gltf) => {\n                  // Store GLTF data for transpilation\n                  setGltfData(gltf);\n                  \n                  // Generate project structure\n                  const structure = generateProjectStructure(gltf, componentName, displayMode);\n                  setProjectStructure(structure);\n                  \n                  setIsProcessing(false);\n                  resolve();\n                },\n                (error) => {\n                  console.error(\"Error parsing GLTF\", error);\n                  setIsProcessing(false);\n                  reject(error);\n                }\n              );\n            } catch (parseError) {\n              console.error(\"Error parsing GLTF data\", parseError);\n              setIsProcessing(false);\n              reject(parseError);\n            }\n          } else {\n            reject(new Error(`Failed to load file: ${xhr.statusText}`));\n          }\n        };\n        \n        xhr.onprogress = function(event) {\n          if (event.lengthComputable) {\n            const percentComplete = (event.loaded / event.total) * 100;\n            setProgress(percentComplete);\n          }\n        };\n        \n        xhr.onerror = function() {\n          reject(new Error('Network error occurred while loading the file'));\n        };\n        \n        xhr.send();\n      } catch (err) {\n        setIsProcessing(false);\n        reject(err);\n      }\n    });\n  };\n  \n  const downloadZip = () => {\n    if (!projectStructure) return;\n    \n    setIsProcessing(true);\n    try {\n      const zip = new JSZip();\n      \n      // Create folder structure\n      const componentFolder = zip.folder(`components/${componentName}`);\n      const meshesFolder = componentFolder?.folder('meshes');\n      const materialsFolder = componentFolder?.folder('materials');\n      \n      // Add index file\n      componentFolder?.file('index.tsx', projectStructure.indexContent);\n      \n      // Add mesh files\n      projectStructure.meshes.forEach(mesh => {\n        meshesFolder?.file(`${mesh.name}.tsx`, mesh.content);\n      });\n      \n      // Add material files\n      projectStructure.materials.forEach(material => {\n        materialsFolder?.file(`${material.name}.tsx`, material.content);\n      });\n      \n      // Generate and download zip\n      zip.generateAsync({ type: 'blob' }).then(content => {\n        saveAs(content, `${componentName}.zip`);\n      });\n    } catch (err) {\n      console.error(\"Error generating ZIP\", err);\n      setError('Failed to generate ZIP file. The model might be too large.');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  \n  const downloadCurrentView = () => {\n    if (!gltfData) return;\n    \n    setIsProcessing(true);\n    try {\n      // Generate project structure with current display mode\n      const structure = generateProjectStructure(gltfData, componentName, displayMode);\n      const zip = new JSZip();\n      \n      // Create folder structure\n      const componentFolder = zip.folder(`components/${componentName}`);\n      const meshesFolder = componentFolder?.folder('meshes');\n      const materialsFolder = componentFolder?.folder('materials');\n      \n      // Add index file\n      componentFolder?.file('index.tsx', structure.indexContent);\n      \n      // Add mesh files\n      structure.meshes.forEach(mesh => {\n        meshesFolder?.file(`${mesh.name}.tsx`, mesh.content);\n      });\n      \n      // Add material files\n      structure.materials.forEach(material => {\n        materialsFolder?.file(`${material.name}.tsx`, material.content);\n      });\n      \n      // Generate and download zip\n      zip.generateAsync({ type: 'blob' }).then(content => {\n        saveAs(content, `${componentName}-${displayMode}.zip`);\n      });\n    } catch (err) {\n      console.error(\"Error generating ZIP for current view\", err);\n      setError(`Failed to generate ZIP for ${displayMode} view. The model might be too large.`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  \n  const downloadModel = () => {\n    if (!file) return;\n    const url = URL.createObjectURL(file);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = file.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-4\">\n            GLB to Mesh Converter\n          </h1>\n          <p className=\"text-slate-300 max-w-2xl mx-auto\">\n            Convert your GLB 3D models into self-contained mesh components like gltfjsx does.\n            Handles large files efficiently with progress tracking and memory optimization.\n          </p>\n        </div>\n        \n        {/* Navigation Tabs */}\n        <div className=\"flex justify-center mb-8\">\n          <div className=\"bg-slate-800 rounded-lg p-1 flex\">\n            <button\n              onClick={() => setActiveTab('upload')}\n              className={`px-6 py-2 rounded-md font-medium transition-all ${\n                activeTab === 'upload'\n                  ? 'bg-purple-600 text-white'\n                  : 'text-slate-400 hover:text-white'\n              }`}\n            >\n              <Upload className=\"w-4 h-4 inline mr-2\" />\n              Upload\n            </button>\n            <button\n              onClick={() => setActiveTab('preview')}\n              disabled={!file}\n              className={`px-6 py-2 rounded-md font-medium transition-all ${\n                activeTab === 'preview' && file\n                  ? 'bg-purple-600 text-white'\n                  : 'text-slate-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed'\n              }`}\n            >\n              <Eye className=\"w-4 h-4 inline mr-2\" />\n              Preview\n            </button>\n            <button\n              onClick={() => setActiveTab('code')}\n              disabled={!projectStructure}\n              className={`px-6 py-2 rounded-md font-medium transition-all ${\n                activeTab === 'code' && projectStructure\n                  ? 'bg-purple-600 text-white'\n                  : 'text-slate-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed'\n              }`}\n            >\n              <Code className=\"w-4 h-4 inline mr-2\" />\n              Code\n            </button>\n          </div>\n        </div>\n        \n        {/* Error Display */}\n        {error && (\n          <div className=\"bg-red-900/50 border border-red-500 rounded-lg p-4 mb-6 max-w-2xl mx-auto\">\n            <div className=\"flex items-center\">\n              <AlertCircle className=\"w-5 h-5 text-red-400 mr-2\" />\n              <span className=\"text-red-200\">{error}</span>\n            </div>\n          </div>\n        )}\n        \n        {/* Upload Tab */}\n        {activeTab === 'upload' && (\n          <div className=\"max-w-2xl mx-auto\">\n            <div className=\"bg-slate-800 rounded-xl p-8 border border-slate-700\">\n              <div className=\"text-center\">\n                <div className=\"border-2 border-dashed border-slate-600 rounded-lg p-12 hover:border-purple-500 transition-colors\">\n                  <Upload className=\"w-12 h-12 text-slate-400 mx-auto mb-4\" />\n                  <h3 className=\"text-xl font-semibold text-white mb-2\">\n                    Upload your GLB model\n                  </h3>\n                  <p className=\"text-slate-400 mb-6\">\n                    Drop your .glb file here or click to browse\n                  </p>\n                  <input\n                    type=\"file\"\n                    accept=\".glb\"\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                    id=\"file-upload\"\n                    disabled={isLoading}\n                  />\n                  <label\n                    htmlFor=\"file-upload\"\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg cursor-pointer transition-colors inline-block ${\n                      isLoading ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isLoading ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 inline mr-2 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      'Choose File'\n                    )}\n                  </label>\n                </div>\n              </div>\n              \n              {/* Progress Bar for Large Files */}\n              {(isLoading || isProcessing) && (\n                <div className=\"mt-6\">\n                  <div className=\"flex justify-between mb-1\">\n                    <span className=\"text-slate-300 text-sm\">\n                      {isProcessing ? 'Processing model...' : 'Loading file...'}\n                    </span>\n                    <span className=\"text-slate-300 text-sm\">{Math.round(progress)}%</span>\n                  </div>\n                  <div className=\"w-full bg-slate-700 rounded-full h-2.5\">\n                    <div \n                      className=\"bg-purple-600 h-2.5 rounded-full transition-all duration-300\" \n                      style={{ width: `${progress}%` }}\n                    ></div>\n                  </div>\n                  <p className=\"text-slate-400 text-xs mt-2\">\n                    {progress < 100 \n                      ? \"Loading large model. This may take a few moments...\" \n                      : \"Optimizing model data for transpilation...\"}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        \n        {/* Preview Tab */}\n        {activeTab === 'preview' && modelUrl && (\n          <div className=\"max-w-6xl mx-auto\">\n            <div className=\"bg-slate-800 rounded-xl p-6 border border-slate-700\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-xl font-semibold text-white\">3D Model Preview</h3>\n                <div className=\"flex items-center gap-4\">\n                  {/* Display Mode Controls */}\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-slate-300 text-sm\">Display Mode:</label>\n                    <select\n                      value={displayMode}\n                      onChange={(e) => setDisplayMode(e.target.value as any)}\n                      className=\"bg-slate-700 text-white px-3 py-1 rounded border border-slate-600 focus:border-purple-500 outline-none text-sm\"\n                    >\n                      <option value=\"original\">Original</option>\n                      <option value=\"wireframe\">Wireframe</option>\n                      <option value=\"solid\">Solid Color</option>\n                      <option value=\"normals\">Normals</option>\n                      <option value=\"depth\">Depth</option>\n                      <option value=\"points\">Point Cloud</option>\n                    </select>\n                  </div>\n                  \n                  {/* Toggle Controls */}\n                  <div className=\"flex items-center gap-4\">\n                    <label className=\"flex items-center gap-2 text-slate-300 text-sm\">\n                      <input\n                        type=\"checkbox\"\n                        checked={autoRotate}\n                        onChange={(e) => setAutoRotate(e.target.checked)}\n                        className=\"rounded border-slate-600 bg-slate-700 text-purple-600 focus:ring-purple-500\"\n                      />\n                      Auto Rotate\n                    </label>\n                    <label className=\"flex items-center gap-2 text-slate-300 text-sm\">\n                      <input\n                        type=\"checkbox\"\n                        checked={showGrid}\n                        onChange={(e) => setShowGrid(e.target.checked)}\n                        className=\"rounded border-slate-600 bg-slate-700 text-purple-600 focus:ring-purple-500\"\n                      />\n                      Grid\n                    </label>\n                    <label className=\"flex items-center gap-2 text-slate-300 text-sm\">\n                      <input\n                        type=\"checkbox\"\n                        checked={showAxes}\n                        onChange={(e) => setShowAxes(e.target.checked)}\n                        className=\"rounded border-slate-600 bg-slate-700 text-purple-600 focus:ring-purple-500\"\n                      />\n                      Axes\n                    </label>\n                  </div>\n                  \n                  <button\n                    onClick={downloadCurrentView}\n                    disabled={isProcessing}\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${\n                      isProcessing ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isProcessing ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <File className=\"w-4 h-4\" />\n                        Download {displayMode} Version\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n              \n              {/* Display Mode Description */}\n              <div className=\"mb-4\">\n                <div className=\"bg-slate-900 rounded-lg p-3\">\n                  <p className=\"text-slate-400 text-sm\">\n                    {displayMode === 'original' && 'Showing the original model with its materials and textures.'}\n                    {displayMode === 'wireframe' && 'Displaying the model as a wireframe structure showing the mesh geometry.'}\n                    {displayMode === 'solid' && 'Rendering the model with a uniform solid color material.'}\n                    {displayMode === 'normals' && 'Visualizing surface normals with color-coded directions (RGB = XYZ).'}\n                    {displayMode === 'depth' && 'Showing depth information - closer surfaces appear lighter.'}\n                    {displayMode === 'points' && 'Displaying the model as a point cloud of vertices.'}\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"bg-slate-900 rounded-lg overflow-hidden\" style={{ height: '500px' }}>\n                <Canvas \n                  camera={{ position: [0, 0, 5], fov: 50 }}\n                  gl={{ \n                    powerPreference: \"high-performance\",\n                    antialias: true,\n                    alpha: true\n                  }}\n                >\n                  <ambientLight intensity={0.5} />\n                  <pointLight position={[10, 10, 10]} />\n                  <pointLight position={[-10, -10, -10]} intensity={0.3} />\n                  \n                  {/* Memory-optimized loading for large models */}\n                  {modelUrl && (\n                    <React.Suspense fallback={\n                      <Html center>\n                        <div className=\"text-white bg-black/50 p-2 rounded\">\n                          <Loader2 className=\"w-4 h-4 inline mr-2 animate-spin\" />\n                          Loading model...\n                        </div>\n                      </Html>\n                    }>\n                      <ModelPreview \n                        url={modelUrl} \n                        displayMode={displayMode} \n                        autoRotate={autoRotate} \n                      />\n                    </React.Suspense>\n                  )}\n                  \n                  {showGrid && (\n                    <gridHelper args={[10, 10, '#444444', '#666666']} />\n                  )}\n                  {showAxes && (\n                    <axesHelper args={[2]} />\n                  )}\n                  <OrbitControls \n                    enableZoom \n                    enablePan \n                    enableRotate \n                    minDistance={0.1}\n                    maxDistance={100}\n                  />\n                  <Environment preset=\"studio\" />\n                </Canvas>\n              </div>\n              \n              <p className=\"text-slate-400 text-sm mt-4 text-center\">\n                Use mouse to rotate, zoom, and pan around the model. Try different display modes to analyze the model structure.\n              </p>\n            </div>\n          </div>\n        )}\n        \n        {/* Code Tab */}\n        {activeTab === 'code' && projectStructure && (\n          <div className=\"max-w-6xl mx-auto\">\n            <div className=\"bg-slate-800 rounded-xl border border-slate-700\">\n              <div className=\"flex justify-between items-center p-6 border-b border-slate-700\">\n                <div className=\"flex items-center gap-4\">\n                  <h3 className=\"text-xl font-semibold text-white\">\n                    Project Structure\n                  </h3>\n                  \n                  {/* Language Selection */}\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-slate-300 text-sm\">Format:</label>\n                    <select\n                      value={selectedLanguage}\n                      onChange={(e) => setSelectedLanguage(e.target.value as any)}\n                      className=\"bg-slate-700 text-white px-3 py-1 rounded border border-slate-600 focus:border-purple-500 outline-none text-sm\"\n                    >\n                      <option value=\"transpiled-tsx\">TypeScript (TSX)</option>\n                      <option value=\"transpiled-jsx\">JavaScript (JSX)</option>\n                    </select>\n                  </div>\n                </div>\n                \n                <div className=\"flex gap-4\">\n                  <button\n                    onClick={downloadZip}\n                    disabled={isProcessing}\n                    className={`bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${\n                      isProcessing ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    {isProcessing ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <File className=\"w-4 h-4\" />\n                        Download Full Project\n                      </>\n                    )}\n                  </button>\n                  <button\n                    onClick={downloadModel}\n                    className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download GLB\n                  </button>\n                </div>\n              </div>\n              \n              {/* Project Structure Overview */}\n              <div className=\"p-6 border-b border-slate-700\">\n                <div className=\"flex items-start gap-6\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                      <Folder className=\"w-5 h-5 mr-2 text-purple-400\" />\n                      Project Structure\n                    </h4>\n                    <div className=\"bg-slate-900 rounded-lg p-4\">\n                      <div className=\"text-slate-400 text-sm\">\n                        <div className=\"flex items-center\">\n                          <Folder className=\"w-4 h-4 mr-2 text-yellow-400\" />\n                          <span className=\"font-medium\">components</span>\n                        </div>\n                        <div className=\"pl-6\">\n                          <div className=\"flex items-center\">\n                            <Folder className=\"w-4 h-4 mr-2 text-blue-400\" />\n                            <span className=\"font-medium\">{componentName}</span>\n                          </div>\n                          <div className=\"pl-6\">\n                            <div className=\"flex items-center\">\n                              <FileText className=\"w-4 h-4 mr-2 text-green-400\" />\n                              <span>index.tsx</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Folder className=\"w-4 h-4 mr-2 text-cyan-400\" />\n                              <span className=\"font-medium\">meshes</span>\n                            </div>\n                            <div className=\"pl-6\">\n                              {projectStructure.meshes.map((mesh, i) => (\n                                <div key={i} className=\"flex items-center\">\n                                  <File className=\"w-4 h-4 mr-2 text-cyan-400\" />\n                                  <span>{mesh.name}.tsx</span>\n                                </div>\n                              ))}\n                            </div>\n                            <div className=\"flex items-center mt-2\">\n                              <Folder className=\"w-4 h-4 mr-2 text-orange-400\" />\n                              <span className=\"font-medium\">materials</span>\n                            </div>\n                            <div className=\"pl-6\">\n                              {projectStructure.materials.map((material, i) => (\n                                <div key={i} className=\"flex items-center\">\n                                  <File className=\"w-4 h-4 mr-2 text-orange-400\" />\n                                  <span>{material.name}.tsx</span>\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex-1\">\n                    <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                      <FileText className=\"w-5 h-5 mr-2 text-purple-400\" />\n                      Model Statistics\n                    </h4>\n                    <div className=\"bg-slate-900 rounded-lg p-4\">\n                      <div className=\"text-slate-400 text-sm space-y-2\">\n                        <div className=\"flex justify-between\">\n                          <span>Meshes:</span>\n                          <span className=\"font-medium\">{projectStructure.meshes.length}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Materials:</span>\n                          <span className=\"font-medium\">{projectStructure.materials.length}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Total Vertices:</span>\n                          <span className=\"font-medium\">{projectStructure.totalVertices.toLocaleString()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Total Triangles:</span>\n                          <span className=\"font-medium\">{projectStructure.totalTriangles.toLocaleString()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>File Size:</span>\n                          <span className=\"font-medium\">{file ? (file.size / 1024 / 1024).toFixed(2) + ' MB' : 'N/A'}</span>\n                        </div>\n                        <div className=\"pt-2 border-t border-slate-700 mt-2\">\n                          <p className=\"text-xs text-slate-500\">\n                            {`Note: For extremely large models (>100MB), some meshes might be simplified \n                            during transpilation to prevent browser memory issues.`}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Code Preview */}\n              <div className=\"p-6\">\n                <div className=\"mb-6\">\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <FileText className=\"w-5 h-5 mr-2 text-purple-400\" />\n                    index.tsx - Main Component\n                  </h4>\n                  <pre className=\"bg-slate-900 rounded-lg p-4 overflow-x-auto text-sm max-h-60 overflow-y-auto\">\n                    <code className=\"text-slate-300 whitespace-pre-wrap\">{projectStructure.indexContent}</code>\n                  </pre>\n                </div>\n                \n                <div className=\"mb-6\">\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <Folder className=\"w-5 h-5 mr-2 text-cyan-400\" />\n                    Mesh Components\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {projectStructure.meshes.slice(0, 3).map((mesh, i) => (\n                      <div key={i} className=\"bg-slate-900 rounded-lg overflow-hidden\">\n                        <div className=\"px-4 py-2 bg-slate-800 border-b border-slate-700\">\n                          <span className=\"text-cyan-400 font-mono\">{mesh.name}.tsx</span>\n                        </div>\n                        <pre className=\"p-4 overflow-x-auto text-sm max-h-40 overflow-y-auto\">\n                          <code className=\"text-slate-300 whitespace-pre-wrap\">{mesh.content}</code>\n                        </pre>\n                      </div>\n                    ))}\n                    {projectStructure.meshes.length > 3 && (\n                      <div className=\"col-span-full text-center text-slate-400 text-sm py-4\">\n                        ... and {projectStructure.meshes.length - 3} more mesh components\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                <div>\n                  <h4 className=\"text-lg font-semibold text-white mb-3 flex items-center\">\n                    <Folder className=\"w-5 h-5 mr-2 text-orange-400\" />\n                    Material Components\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {projectStructure.materials.slice(0, 3).map((material, i) => (\n                      <div key={i} className=\"bg-slate-900 rounded-lg overflow-hidden\">\n                        <div className=\"px-4 py-2 bg-slate-800 border-b border-slate-700\">\n                          <span className=\"text-orange-400 font-mono\">{material.name}.tsx</span>\n                        </div>\n                        <pre className=\"p-4 overflow-x-auto text-sm max-h-40 overflow-y-auto\">\n                          <code className=\"text-slate-300 whitespace-pre-wrap\">{material.content}</code>\n                        </pre>\n                      </div>\n                    ))}\n                    {projectStructure.materials.length > 3 && (\n                      <div className=\"col-span-full text-center text-slate-400 text-sm py-4\">\n                        ... and {projectStructure.materials.length - 3} more material components\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"p-6 border-t border-slate-700\">\n                <h4 className=\"text-lg font-semibold text-white mb-3\">\n                  How to Use\n                </h4>\n                <div className=\"space-y-3\">\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">1. Download the complete project:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`<button onClick={downloadZip}>Download Project</button>`}</code>\n                    </pre>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">2. Extract the zip file into your components directory</p>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">3. Import and use the component:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`import ${componentName} from '@/components/${componentName}'\n// ...\n<Canvas>\n  <${componentName} />\n</Canvas>`}</code>\n                    </pre>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-400 text-sm mb-2\">4. Customize individual parts:</p>\n                    <pre className=\"bg-slate-900 rounded p-2 text-sm\">\n                      <code className=\"text-blue-400\">{`// Access specific parts\nimport { MeshName } from '@/components/${componentName}/meshes'\nimport { MaterialName } from '@/components/${componentName}/materials'\n\n// Example: Change material of a specific mesh\nfunction CustomModel() {\n  return (\n    <${componentName}>\n      <mesh geometry={nodes.MeshName.geometry} material={new MaterialName()} />\n    </${componentName}>\n  )\n}`}</code>\n                    </pre>\n                  </div>\n                  <div className=\"pt-2 border-t border-slate-700 mt-2\">\n                    <p className=\"text-xs text-slate-500\">\n                      For extremely large models, the converter automatically applies optimizations:\n                      <br />- Geometry data is broken into chunks for memory efficiency\n                      <br />- Complex geometries may be simplified to prevent browser crashes\n                      <br />- Large textures are omitted (only geometry and basic materials are transpiled)\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Component to display the GLB model in the preview with memory optimization\nfunction ModelPreview({ url, displayMode, autoRotate }: { \n  url: string; \n  displayMode: string; \n  autoRotate: boolean \n}) {\n  const [gltf, setGltf] = useState<any>(null);\n  const meshRef = useRef<THREE.Group>(null);\n  \n  // Load GLTF with memory optimization for large files\n  useEffect(() => {\n    let isMounted = true;\n    const loader = new GLTFLoader();\n    \n    // Set up DRACO for compressed models\n    const dracoLoader = new DRACOLoader();\n    dracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');\n    loader.setDRACOLoader(dracoLoader);\n    \n    // For large files, use a more memory-efficient approach\n    fetch(url)\n      .then(response => response.arrayBuffer())\n      .then(data => {\n        if (!isMounted) return;\n        \n        loader.parse(\n          data,\n          '',\n          (gltf) => {\n            // For extremely large models, simplify geometries to prevent memory issues\n            if (gltf.scene) {\n              gltf.scene.traverse((object: THREE.Object3D) => {\n                if (object.isMesh) {\n                  const mesh = object as THREE.Mesh;\n                  const geometry = mesh.geometry;\n                  \n                  // Check if the geometry is extremely large\n                  const vertexCount = geometry.attributes.position.count;\n                  if (vertexCount > 1000000) {\n                    // For extremely large meshes, consider simplifying or warning\n                    console.warn(`Mesh ${mesh.name} has ${vertexCount} vertices - this may cause performance issues`);\n                  }\n                }\n              });\n            }\n            \n            if (isMounted) {\n              setGltf(gltf);\n            }\n          },\n          (error) => {\n            console.error(\"Error parsing GLTF\", error);\n          }\n        );\n      })\n      .catch(error => {\n        console.error(\"Error loading GLB file\", error);\n      });\n    \n    return () => {\n      isMounted = false;\n      // Clean up GLTF resources\n      if (gltf) {\n        gltf.scene.traverse((object: THREE.Object3D) => {\n          if (object.isMesh) {\n            const mesh = object as THREE.Mesh;\n            mesh.geometry.dispose();\n            if (Array.isArray(mesh.material)) {\n              mesh.material.forEach(material => material.dispose());\n            } else {\n              mesh.material.dispose();\n            }\n          }\n        });\n      }\n    };\n  }, [url]);\n  \n  useFrame((state) => {\n    if (meshRef.current && autoRotate) {\n      meshRef.current.rotation.y = state.clock.getElapsedTime() * 0.5;\n    }\n  });\n  \n  // Apply material overrides based on display mode\n  useEffect(() => {\n    if (gltf && gltf.scene) {\n      gltf.scene.traverse((child: THREE.Object3D) => {\n        if (child.isMesh) {\n          const mesh = child as THREE.Mesh;\n          const originalMaterial = mesh.material;\n          \n          // Dispose of old materials to prevent memory leaks\n          if (Array.isArray(originalMaterial)) {\n            originalMaterial.forEach(material => material.dispose());\n          } else if (originalMaterial && originalMaterial.dispose) {\n            originalMaterial.dispose();\n          }\n          \n          // Create new materials based on display mode\n          switch (displayMode) {\n            case 'wireframe':\n              if (Array.isArray(originalMaterial)) {\n                mesh.material = originalMaterial.map(mat => {\n                  const newMat = mat.clone();\n                  newMat.wireframe = true;\n                  newMat.transparent = true;\n                  newMat.opacity = 0.8;\n                  return newMat;\n                });\n              } else {\n                const newMat = originalMaterial.clone();\n                newMat.wireframe = true;\n                newMat.transparent = true;\n                newMat.opacity = 0.8;\n                mesh.material = newMat;\n              }\n              break;\n            case 'points':\n              mesh.material = new THREE.PointsMaterial({\n                color: 0x00ff00,\n                size: 0.01,\n                sizeAttenuation: true\n              });\n              break;\n            case 'normals':\n              mesh.material = new THREE.MeshNormalMaterial();\n              break;\n            case 'depth':\n              mesh.material = new THREE.MeshDepthMaterial();\n              break;\n            case 'solid':\n              mesh.material = new THREE.MeshStandardMaterial({\n                color: 0x888888,\n                metalness: 0.1,\n                roughness: 0.8\n              });\n              break;\n            default:\n              // Keep original materials for 'original' mode\n              mesh.material = originalMaterial;\n              break;\n          }\n        }\n      });\n    }\n  }, [gltf, displayMode]);\n  \n  if (!gltf) {\n    return (\n      <Html center>\n        <div className=\"text-white bg-black/50 p-2 rounded\">\n          <Loader2 className=\"w-4 h-4 inline mr-2 animate-spin\" />\n          Loading model...\n        </div>\n      </Html>\n    );\n  }\n  \n  return (\n    <primitive \n      ref={meshRef} \n      object={gltf.scene} \n      scale={[1, 1, 1]}\n      position={[0, 0, 0]}\n    />\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}